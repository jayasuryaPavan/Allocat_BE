2025-11-06 00:48:42 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: POST /api/auth/refresh
2025-11-06 00:48:43 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 00:48:43 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 00:48:43 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 00:48:43 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: null
2025-11-06 00:48:43 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: null
2025-11-06 00:48:43 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/refresh", parameters={}
2025-11-06 00:48:43 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.AuthController#refreshToken(String)
2025-11-06 00:48:43 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 00:48:43 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Token refreshed successfully, data=AuthResponse(accessToken=eyJhbG (truncated)...]
2025-11-06 00:48:43 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 00:48:47 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=17m59s125ms868Âµs800ns).
2025-11-06 09:39:00 [main] INFO  com.allocat.api.AllocatApplication - Starting AllocatApplication using Java 21.0.8 with PID 16376 (C:\Work Space\Allocat\Backend\allocat-erp-backend\allocat-api\target\classes started by jayas in C:\Work Space\Allocat\Backend)
2025-11-06 09:39:00 [main] DEBUG com.allocat.api.AllocatApplication - Running with Spring Boot v3.3.4, Spring v6.1.13
2025-11-06 09:39:00 [main] INFO  com.allocat.api.AllocatApplication - The following 1 profile is active: "dev"
2025-11-06 09:39:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-06 09:39:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-06 09:39:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 163 ms. Found 6 JPA repository interfaces.
2025-11-06 09:39:02 [main] INFO  org.reflections.Reflections - Reflections took 94 ms to scan 2 urls, producing 10 keys and 39 values
2025-11-06 09:39:03 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-06 09:39:04 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-06 09:39:04 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.30]
2025-11-06 09:39:04 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-06 09:39:04 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3786 ms
2025-11-06 09:39:04 [main] DEBUG c.a.s.jwt.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-06 09:39:04 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-06 09:39:04 [main] DEBUG o.s.web.filter.CorsFilter - Filter 'corsFilter' configured for use
2025-11-06 09:39:04 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-06 09:39:05 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@335896bd
2025-11-06 09:39:05 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-06 09:39:05 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/allocat_db (PostgreSQL 17.6)
2025-11-06 09:39:05 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.6 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 16.
2025-11-06 09:39:05 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 11 migrations (execution time 00:00.111s)
2025-11-06 09:39:05 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 11
2025-11-06 09:39:05 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-11-06 09:39:05 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-06 09:39:05 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-11-06 09:39:06 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-06 09:39:06 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-06 09:39:06 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-06 09:39:08 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-06 09:39:08 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-06 09:39:08 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-06 09:39:10 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-06 09:39:10 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 14149748-4ba8-4f35-b87d-b2320346523b

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-11-06 09:39:10 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-11-06 09:39:10 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 43 mappings in 'requestMappingHandlerMapping'
2025-11-06 09:39:10 [main] DEBUG o.s.w.s.c.a.WebMvcConfigurer - Default resource handling disabled
2025-11-06 09:39:10 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-06 09:39:11 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-11-06 09:39:11 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-06 09:39:11 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-06 09:39:12 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-11-06 09:39:12 [main] INFO  com.allocat.api.AllocatApplication - Started AllocatApplication in 12.72 seconds (process running for 13.187)
2025-11-06 09:41:08 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-06 09:41:08 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-06 09:41:08 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-11-06 09:41:08 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-11-06 09:41:08 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-11-06 09:41:08 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@b439e50
2025-11-06 09:41:08 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@5bff7f13
2025-11-06 09:41:08 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-11-06 09:41:08 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 6 ms
2025-11-06 09:41:08 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: POST /api/auth/logout
2025-11-06 09:41:08 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: null
2025-11-06 09:41:08 [http-nio-8080-exec-1] WARN  c.a.s.jwt.JwtAuthenticationFilter - No valid Authorization header found for: POST /api/auth/logout
2025-11-06 09:41:08 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/logout", parameters={}
2025-11-06 09:41:08 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.AuthController#logout(String)
2025-11-06 09:41:08 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 09:41:08 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Logout successful, data=null, error=null)]
2025-11-06 09:41:08 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 09:41:23 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: POST /api/auth/login
2025-11-06 09:41:23 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: null
2025-11-06 09:41:23 [http-nio-8080-exec-3] WARN  c.a.s.jwt.JwtAuthenticationFilter - No valid Authorization header found for: POST /api/auth/login
2025-11-06 09:41:23 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-11-06 09:41:23 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.AuthController#login(LoginRequest)
2025-11-06 09:41:23 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=suryajaya, password=goodboy)]
2025-11-06 09:41:23 [http-nio-8080-exec-3] INFO  c.allocat.auth.service.AuthService - Authenticating user: suryajaya
2025-11-06 09:41:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.is_active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login_at,
        u1_0.last_name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.role_id,
        u1_0.store_id,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-11-06 09:41:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.created_by,
        r1_0.deleted_at,
        r1_0.description,
        r1_0.name,
        r1_0.permissions,
        r1_0.updated_at,
        r1_0.updated_by 
    from
        roles r1_0 
    where
        r1_0.id=?
2025-11-06 09:41:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* update
        for com.allocat.auth.entity.User */update users 
    set
        is_active=?,
        deleted_at=?,
        email=?,
        first_name=?,
        last_login_at=?,
        last_name=?,
        password_hash=?,
        phone=?,
        role_id=?,
        store_id=?,
        updated_at=?,
        updated_by=?,
        username=? 
    where
        id=?
2025-11-06 09:41:24 [http-nio-8080-exec-3] INFO  c.allocat.auth.service.AuthService - User authenticated successfully: suryajaya
2025-11-06 09:41:24 [http-nio-8080-exec-3] INFO  c.a.api.controller.AuthController - Login successful for user: suryajaya
2025-11-06 09:41:24 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 09:41:24 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Login successful, data=AuthResponse(accessToken=eyJhbGciOiJIUzUxMi (truncated)...]
2025-11-06 09:41:24 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 09:41:24 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/auth/me
2025-11-06 09:41:24 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 09:41:24 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 09:41:24 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 09:41:24 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 09:41:24 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 09:41:24 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-11-06 09:41:24 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.AuthController#getCurrentUser(String)
2025-11-06 09:41:24 [http-nio-8080-exec-5] INFO  c.allocat.auth.service.AuthService - Fetching user by username: suryajaya
2025-11-06 09:41:24 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.is_active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login_at,
        u1_0.last_name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.role_id,
        u1_0.store_id,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-11-06 09:41:24 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.created_by,
        r1_0.deleted_at,
        r1_0.description,
        r1_0.name,
        r1_0.permissions,
        r1_0.updated_at,
        r1_0.updated_by 
    from
        roles r1_0 
    where
        r1_0.id=?
2025-11-06 09:41:24 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 09:41:24 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=User details retrieved successfully, data=AuthResponse(accessToken (truncated)...]
2025-11-06 09:41:24 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 09:41:24 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/stores
2025-11-06 09:41:24 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 09:41:24 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 09:41:24 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 09:41:24 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 09:41:24 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 09:41:24 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/stores?active=true", parameters={masked}
2025-11-06 09:41:24 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.StoreController#getAllStores(Boolean)
2025-11-06 09:41:24 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        s 
    FROM
        Store s 
    WHERE
        s.isActive = true 
    ORDER BY
        s.name ASC */ select
            s1_0.id,
            s1_0.access_code,
            s1_0.address,
            s1_0.city,
            s1_0.code,
            s1_0.country,
            s1_0.created_at,
            s1_0.created_by,
            s1_0.currency,
            s1_0.deleted_at,
            s1_0.email,
            s1_0.is_active,
            s1_0.name,
            s1_0.phone,
            s1_0.postal_code,
            s1_0.settings,
            s1_0.state,
            s1_0.tax_id,
            s1_0.timezone,
            s1_0.updated_at,
            s1_0.updated_by 
        from
            stores s1_0 
        where
            s1_0.is_active=true 
        order by
            s1_0.name
2025-11-06 09:41:24 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 09:41:24 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Stores retrieved successfully, data=[StoreResponse(id=1, code=MAIN (truncated)...]
2025-11-06 09:41:24 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 09:41:57 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/users
2025-11-06 09:41:57 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 09:41:57 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 09:41:57 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 09:41:57 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 09:41:57 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 09:41:57 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-11-06 09:41:57 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.UserController#getAllUsers()
2025-11-06 09:41:57 [http-nio-8080-exec-7] INFO  c.allocat.auth.service.UserService - Fetching user by username: suryajaya
2025-11-06 09:41:57 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.is_active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login_at,
        u1_0.last_name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.role_id,
        u1_0.store_id,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-11-06 09:41:57 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.created_by,
        r1_0.deleted_at,
        r1_0.description,
        r1_0.name,
        r1_0.permissions,
        r1_0.updated_at,
        r1_0.updated_by 
    from
        roles r1_0 
    where
        r1_0.id=?
2025-11-06 09:41:57 [http-nio-8080-exec-7] INFO  c.allocat.auth.service.UserService - Fetching all users
2025-11-06 09:41:57 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.is_active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login_at,
        u1_0.last_name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.role_id,
        u1_0.store_id,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.username 
    from
        users u1_0
2025-11-06 09:41:57 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.created_by,
        r1_0.deleted_at,
        r1_0.description,
        r1_0.name,
        r1_0.permissions,
        r1_0.updated_at,
        r1_0.updated_by 
    from
        roles r1_0 
    where
        r1_0.id=?
2025-11-06 09:41:57 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        s1_0.id,
        s1_0.access_code,
        s1_0.address,
        s1_0.city,
        s1_0.code,
        s1_0.country,
        s1_0.created_at,
        s1_0.created_by,
        s1_0.currency,
        s1_0.deleted_at,
        s1_0.email,
        s1_0.is_active,
        s1_0.name,
        s1_0.phone,
        s1_0.postal_code,
        s1_0.settings,
        s1_0.state,
        s1_0.tax_id,
        s1_0.timezone,
        s1_0.updated_at,
        s1_0.updated_by 
    from
        stores s1_0 
    where
        s1_0.id=?
2025-11-06 09:41:57 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 09:41:57 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Users retrieved successfully, data=[UserResponse(id=2, username=or (truncated)...]
2025-11-06 09:41:57 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 09:47:12 [http-nio-8080-exec-2] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/users
2025-11-06 09:47:12 [http-nio-8080-exec-2] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 09:47:12 [http-nio-8080-exec-2] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 09:47:12 [http-nio-8080-exec-2] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 09:47:12 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/stores
2025-11-06 09:47:12 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 09:47:12 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 09:47:12 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 09:47:12 [http-nio-8080-exec-2] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 09:47:12 [http-nio-8080-exec-2] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 09:47:12 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-11-06 09:47:12 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 09:47:12 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 09:47:12 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.UserController#getAllUsers()
2025-11-06 09:47:12 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/stores?active=true", parameters={masked}
2025-11-06 09:47:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.StoreController#getAllStores(Boolean)
2025-11-06 09:47:12 [http-nio-8080-exec-2] INFO  c.allocat.auth.service.UserService - Fetching user by username: suryajaya
2025-11-06 09:47:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.is_active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login_at,
        u1_0.last_name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.role_id,
        u1_0.store_id,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-11-06 09:47:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        s 
    FROM
        Store s 
    WHERE
        s.isActive = true 
    ORDER BY
        s.name ASC */ select
            s1_0.id,
            s1_0.access_code,
            s1_0.address,
            s1_0.city,
            s1_0.code,
            s1_0.country,
            s1_0.created_at,
            s1_0.created_by,
            s1_0.currency,
            s1_0.deleted_at,
            s1_0.email,
            s1_0.is_active,
            s1_0.name,
            s1_0.phone,
            s1_0.postal_code,
            s1_0.settings,
            s1_0.state,
            s1_0.tax_id,
            s1_0.timezone,
            s1_0.updated_at,
            s1_0.updated_by 
        from
            stores s1_0 
        where
            s1_0.is_active=true 
        order by
            s1_0.name
2025-11-06 09:47:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.created_by,
        r1_0.deleted_at,
        r1_0.description,
        r1_0.name,
        r1_0.permissions,
        r1_0.updated_at,
        r1_0.updated_by 
    from
        roles r1_0 
    where
        r1_0.id=?
2025-11-06 09:47:12 [http-nio-8080-exec-2] INFO  c.allocat.auth.service.UserService - Fetching all users
2025-11-06 09:47:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 09:47:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Stores retrieved successfully, data=[StoreResponse(id=1, code=MAIN (truncated)...]
2025-11-06 09:47:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.is_active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login_at,
        u1_0.last_name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.role_id,
        u1_0.store_id,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.username 
    from
        users u1_0
2025-11-06 09:47:12 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 09:47:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.created_by,
        r1_0.deleted_at,
        r1_0.description,
        r1_0.name,
        r1_0.permissions,
        r1_0.updated_at,
        r1_0.updated_by 
    from
        roles r1_0 
    where
        r1_0.id=?
2025-11-06 09:47:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        s1_0.id,
        s1_0.access_code,
        s1_0.address,
        s1_0.city,
        s1_0.code,
        s1_0.country,
        s1_0.created_at,
        s1_0.created_by,
        s1_0.currency,
        s1_0.deleted_at,
        s1_0.email,
        s1_0.is_active,
        s1_0.name,
        s1_0.phone,
        s1_0.postal_code,
        s1_0.settings,
        s1_0.state,
        s1_0.tax_id,
        s1_0.timezone,
        s1_0.updated_at,
        s1_0.updated_by 
    from
        stores s1_0 
    where
        s1_0.id=?
2025-11-06 09:47:12 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 09:47:12 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Users retrieved successfully, data=[UserResponse(id=2, username=or (truncated)...]
2025-11-06 09:47:12 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 09:47:53 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/users
2025-11-06 09:47:53 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 09:47:53 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 09:47:53 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 09:47:53 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 09:47:53 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 09:47:53 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-11-06 09:47:53 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.UserController#getAllUsers()
2025-11-06 09:47:53 [http-nio-8080-exec-4] INFO  c.allocat.auth.service.UserService - Fetching user by username: suryajaya
2025-11-06 09:47:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.is_active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login_at,
        u1_0.last_name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.role_id,
        u1_0.store_id,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-11-06 09:47:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.created_by,
        r1_0.deleted_at,
        r1_0.description,
        r1_0.name,
        r1_0.permissions,
        r1_0.updated_at,
        r1_0.updated_by 
    from
        roles r1_0 
    where
        r1_0.id=?
2025-11-06 09:47:53 [http-nio-8080-exec-4] INFO  c.allocat.auth.service.UserService - Fetching all users
2025-11-06 09:47:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.is_active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login_at,
        u1_0.last_name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.role_id,
        u1_0.store_id,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.username 
    from
        users u1_0
2025-11-06 09:47:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.created_by,
        r1_0.deleted_at,
        r1_0.description,
        r1_0.name,
        r1_0.permissions,
        r1_0.updated_at,
        r1_0.updated_by 
    from
        roles r1_0 
    where
        r1_0.id=?
2025-11-06 09:47:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        s1_0.id,
        s1_0.access_code,
        s1_0.address,
        s1_0.city,
        s1_0.code,
        s1_0.country,
        s1_0.created_at,
        s1_0.created_by,
        s1_0.currency,
        s1_0.deleted_at,
        s1_0.email,
        s1_0.is_active,
        s1_0.name,
        s1_0.phone,
        s1_0.postal_code,
        s1_0.settings,
        s1_0.state,
        s1_0.tax_id,
        s1_0.timezone,
        s1_0.updated_at,
        s1_0.updated_by 
    from
        stores s1_0 
    where
        s1_0.id=?
2025-11-06 09:47:53 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 09:47:53 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Users retrieved successfully, data=[UserResponse(id=2, username=or (truncated)...]
2025-11-06 09:47:53 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 09:48:17 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/users
2025-11-06 09:48:17 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 09:48:17 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 09:48:17 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 09:48:17 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 09:48:17 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 09:48:17 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-11-06 09:48:17 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.UserController#getAllUsers()
2025-11-06 09:48:17 [http-nio-8080-exec-5] INFO  c.allocat.auth.service.UserService - Fetching user by username: suryajaya
2025-11-06 09:48:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.is_active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login_at,
        u1_0.last_name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.role_id,
        u1_0.store_id,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-11-06 09:48:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.created_by,
        r1_0.deleted_at,
        r1_0.description,
        r1_0.name,
        r1_0.permissions,
        r1_0.updated_at,
        r1_0.updated_by 
    from
        roles r1_0 
    where
        r1_0.id=?
2025-11-06 09:48:17 [http-nio-8080-exec-5] INFO  c.allocat.auth.service.UserService - Fetching all users
2025-11-06 09:48:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.is_active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login_at,
        u1_0.last_name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.role_id,
        u1_0.store_id,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.username 
    from
        users u1_0
2025-11-06 09:48:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.created_by,
        r1_0.deleted_at,
        r1_0.description,
        r1_0.name,
        r1_0.permissions,
        r1_0.updated_at,
        r1_0.updated_by 
    from
        roles r1_0 
    where
        r1_0.id=?
2025-11-06 09:48:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        s1_0.id,
        s1_0.access_code,
        s1_0.address,
        s1_0.city,
        s1_0.code,
        s1_0.country,
        s1_0.created_at,
        s1_0.created_by,
        s1_0.currency,
        s1_0.deleted_at,
        s1_0.email,
        s1_0.is_active,
        s1_0.name,
        s1_0.phone,
        s1_0.postal_code,
        s1_0.settings,
        s1_0.state,
        s1_0.tax_id,
        s1_0.timezone,
        s1_0.updated_at,
        s1_0.updated_by 
    from
        stores s1_0 
    where
        s1_0.id=?
2025-11-06 09:48:17 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 09:48:17 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Users retrieved successfully, data=[UserResponse(id=2, username=or (truncated)...]
2025-11-06 09:48:17 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 09:50:55 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/products
2025-11-06 09:50:55 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 09:50:55 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 09:50:55 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 09:50:55 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/products/categories
2025-11-06 09:50:55 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 09:50:55 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 09:50:55 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 09:50:55 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 09:50:55 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 09:50:55 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products?page=0&size=25&sortBy=name&sortDirection=asc", parameters={masked}
2025-11-06 09:50:55 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.ProductController#getAllProducts(int, int, String, String, String, String, String, Boolean)
2025-11-06 09:50:55 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 09:50:55 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 09:50:55 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/categories", parameters={}
2025-11-06 09:50:55 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.ProductController#getCategories()
2025-11-06 09:50:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT p.category 
    FROM
        Product p 
    WHERE
        p.category IS NOT NULL 
    ORDER BY
        p.category */ select
            distinct p1_0.category 
        from
            products p1_0 
        where
            p1_0.category is not null 
        order by
            p1_0.category
2025-11-06 09:50:55 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    order by
        p1_0.name 
    offset
        ? rows 
    fetch
        first ? rows only
2025-11-06 09:50:55 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 09:50:55 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Categories retrieved successfully, data=[], error=null)]
2025-11-06 09:50:55 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 09:50:55 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 09:50:55 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Products retrieved successfully. Page 1 of 1, data=Page 1 of 1 con (truncated)...]
2025-11-06 09:50:55 [http-nio-8080-exec-7] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-11-06 09:50:55 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 09:51:10 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/stores
2025-11-06 09:51:10 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 09:51:10 [http-nio-8080-exec-2] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/products/categories
2025-11-06 09:51:10 [http-nio-8080-exec-2] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 09:51:10 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/products
2025-11-06 09:51:10 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 09:51:10 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 09:51:10 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 09:51:10 [http-nio-8080-exec-2] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 09:51:10 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 09:51:10 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 09:51:10 [http-nio-8080-exec-2] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 09:51:10 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 09:51:10 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 09:51:10 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products?page=0&size=25&sortBy=name&sortDirection=asc", parameters={masked}
2025-11-06 09:51:10 [http-nio-8080-exec-2] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 09:51:10 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 09:51:10 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.ProductController#getAllProducts(int, int, String, String, String, String, String, Boolean)
2025-11-06 09:51:10 [http-nio-8080-exec-2] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 09:51:10 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 09:51:10 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/categories", parameters={}
2025-11-06 09:51:10 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/stores?active=true", parameters={masked}
2025-11-06 09:51:10 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.ProductController#getCategories()
2025-11-06 09:51:10 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.StoreController#getAllStores(Boolean)
2025-11-06 09:51:10 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    order by
        p1_0.name 
    offset
        ? rows 
    fetch
        first ? rows only
2025-11-06 09:51:10 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT p.category 
    FROM
        Product p 
    WHERE
        p.category IS NOT NULL 
    ORDER BY
        p.category */ select
            distinct p1_0.category 
        from
            products p1_0 
        where
            p1_0.category is not null 
        order by
            p1_0.category
2025-11-06 09:51:10 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        s 
    FROM
        Store s 
    WHERE
        s.isActive = true 
    ORDER BY
        s.name ASC */ select
            s1_0.id,
            s1_0.access_code,
            s1_0.address,
            s1_0.city,
            s1_0.code,
            s1_0.country,
            s1_0.created_at,
            s1_0.created_by,
            s1_0.currency,
            s1_0.deleted_at,
            s1_0.email,
            s1_0.is_active,
            s1_0.name,
            s1_0.phone,
            s1_0.postal_code,
            s1_0.settings,
            s1_0.state,
            s1_0.tax_id,
            s1_0.timezone,
            s1_0.updated_at,
            s1_0.updated_by 
        from
            stores s1_0 
        where
            s1_0.is_active=true 
        order by
            s1_0.name
2025-11-06 09:51:10 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 09:51:10 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 09:51:10 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Categories retrieved successfully, data=[], error=null)]
2025-11-06 09:51:10 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Products retrieved successfully. Page 1 of 1, data=Page 1 of 1 con (truncated)...]
2025-11-06 09:51:10 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 09:51:10 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 09:51:10 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 09:51:10 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Stores retrieved successfully, data=[StoreResponse(id=1, code=MAIN (truncated)...]
2025-11-06 09:51:10 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 09:51:39 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/products
2025-11-06 09:51:39 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/products/categories
2025-11-06 09:51:39 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 09:51:39 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/stores
2025-11-06 09:51:39 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 09:51:39 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 09:51:39 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 09:51:39 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 09:51:39 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 09:51:39 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 09:51:39 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 09:51:39 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 09:51:39 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 09:51:39 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 09:51:39 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 09:51:39 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 09:51:39 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 09:51:39 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 09:51:39 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/stores?active=true", parameters={masked}
2025-11-06 09:51:39 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.StoreController#getAllStores(Boolean)
2025-11-06 09:51:39 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/categories", parameters={}
2025-11-06 09:51:39 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products?page=0&size=25&sortBy=name&sortDirection=asc", parameters={masked}
2025-11-06 09:51:39 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.ProductController#getCategories()
2025-11-06 09:51:39 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        s 
    FROM
        Store s 
    WHERE
        s.isActive = true 
    ORDER BY
        s.name ASC */ select
            s1_0.id,
            s1_0.access_code,
            s1_0.address,
            s1_0.city,
            s1_0.code,
            s1_0.country,
            s1_0.created_at,
            s1_0.created_by,
            s1_0.currency,
            s1_0.deleted_at,
            s1_0.email,
            s1_0.is_active,
            s1_0.name,
            s1_0.phone,
            s1_0.postal_code,
            s1_0.settings,
            s1_0.state,
            s1_0.tax_id,
            s1_0.timezone,
            s1_0.updated_at,
            s1_0.updated_by 
        from
            stores s1_0 
        where
            s1_0.is_active=true 
        order by
            s1_0.name
2025-11-06 09:51:39 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.ProductController#getAllProducts(int, int, String, String, String, String, String, Boolean)
2025-11-06 09:51:39 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT p.category 
    FROM
        Product p 
    WHERE
        p.category IS NOT NULL 
    ORDER BY
        p.category */ select
            distinct p1_0.category 
        from
            products p1_0 
        where
            p1_0.category is not null 
        order by
            p1_0.category
2025-11-06 09:51:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    order by
        p1_0.name 
    offset
        ? rows 
    fetch
        first ? rows only
2025-11-06 09:51:39 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 09:51:39 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Stores retrieved successfully, data=[StoreResponse(id=1, code=MAIN (truncated)...]
2025-11-06 09:51:39 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 09:51:39 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 09:51:39 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Products retrieved successfully. Page 1 of 1, data=Page 1 of 1 con (truncated)...]
2025-11-06 09:51:39 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 09:51:39 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Categories retrieved successfully, data=[], error=null)]
2025-11-06 09:51:39 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 09:51:39 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 09:52:43 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/stores
2025-11-06 09:52:43 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 09:52:43 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/products/categories
2025-11-06 09:52:43 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 09:52:43 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/products
2025-11-06 09:52:43 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 09:52:43 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 09:52:43 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 09:52:43 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 09:52:43 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 09:52:43 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 09:52:43 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 09:52:43 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 09:52:43 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 09:52:43 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 09:52:43 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 09:52:43 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 09:52:43 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 09:52:43 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products?page=0&size=25&sortBy=name&sortDirection=asc", parameters={masked}
2025-11-06 09:52:43 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/stores?active=true", parameters={masked}
2025-11-06 09:52:43 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/categories", parameters={}
2025-11-06 09:52:43 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.StoreController#getAllStores(Boolean)
2025-11-06 09:52:43 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.ProductController#getAllProducts(int, int, String, String, String, String, String, Boolean)
2025-11-06 09:52:43 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.ProductController#getCategories()
2025-11-06 09:52:43 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT p.category 
    FROM
        Product p 
    WHERE
        p.category IS NOT NULL 
    ORDER BY
        p.category */ select
            distinct p1_0.category 
        from
            products p1_0 
        where
            p1_0.category is not null 
        order by
            p1_0.category
2025-11-06 09:52:43 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        s 
    FROM
        Store s 
    WHERE
        s.isActive = true 
    ORDER BY
        s.name ASC */ select
            s1_0.id,
            s1_0.access_code,
            s1_0.address,
            s1_0.city,
            s1_0.code,
            s1_0.country,
            s1_0.created_at,
            s1_0.created_by,
            s1_0.currency,
            s1_0.deleted_at,
            s1_0.email,
            s1_0.is_active,
            s1_0.name,
            s1_0.phone,
            s1_0.postal_code,
            s1_0.settings,
            s1_0.state,
            s1_0.tax_id,
            s1_0.timezone,
            s1_0.updated_at,
            s1_0.updated_by 
        from
            stores s1_0 
        where
            s1_0.is_active=true 
        order by
            s1_0.name
2025-11-06 09:52:43 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    order by
        p1_0.name 
    offset
        ? rows 
    fetch
        first ? rows only
2025-11-06 09:52:43 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 09:52:43 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Categories retrieved successfully, data=[], error=null)]
2025-11-06 09:52:43 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 09:52:43 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Stores retrieved successfully, data=[StoreResponse(id=1, code=MAIN (truncated)...]
2025-11-06 09:52:43 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 09:52:43 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 09:52:43 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 09:52:43 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Products retrieved successfully. Page 1 of 1, data=Page 1 of 1 con (truncated)...]
2025-11-06 09:52:43 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 09:57:15 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/stores
2025-11-06 09:57:15 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 09:57:15 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 09:57:15 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 09:57:15 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/products
2025-11-06 09:57:15 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/products/categories
2025-11-06 09:57:15 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 09:57:15 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 09:57:15 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 09:57:15 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 09:57:15 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 09:57:15 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 09:57:15 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 09:57:15 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 09:57:15 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 09:57:15 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 09:57:15 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 09:57:15 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 09:57:15 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/categories", parameters={}
2025-11-06 09:57:15 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products?page=0&size=25&sortBy=name&sortDirection=asc", parameters={masked}
2025-11-06 09:57:15 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/stores?active=true", parameters={masked}
2025-11-06 09:57:15 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.ProductController#getAllProducts(int, int, String, String, String, String, String, Boolean)
2025-11-06 09:57:15 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.ProductController#getCategories()
2025-11-06 09:57:15 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.StoreController#getAllStores(Boolean)
2025-11-06 09:57:15 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT p.category 
    FROM
        Product p 
    WHERE
        p.category IS NOT NULL 
    ORDER BY
        p.category */ select
            distinct p1_0.category 
        from
            products p1_0 
        where
            p1_0.category is not null 
        order by
            p1_0.category
2025-11-06 09:57:15 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        s 
    FROM
        Store s 
    WHERE
        s.isActive = true 
    ORDER BY
        s.name ASC */ select
            s1_0.id,
            s1_0.access_code,
            s1_0.address,
            s1_0.city,
            s1_0.code,
            s1_0.country,
            s1_0.created_at,
            s1_0.created_by,
            s1_0.currency,
            s1_0.deleted_at,
            s1_0.email,
            s1_0.is_active,
            s1_0.name,
            s1_0.phone,
            s1_0.postal_code,
            s1_0.settings,
            s1_0.state,
            s1_0.tax_id,
            s1_0.timezone,
            s1_0.updated_at,
            s1_0.updated_by 
        from
            stores s1_0 
        where
            s1_0.is_active=true 
        order by
            s1_0.name
2025-11-06 09:57:15 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    order by
        p1_0.name 
    offset
        ? rows 
    fetch
        first ? rows only
2025-11-06 09:57:15 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 09:57:15 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Categories retrieved successfully, data=[], error=null)]
2025-11-06 09:57:15 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 09:57:15 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 09:57:15 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Stores retrieved successfully, data=[StoreResponse(id=1, code=MAIN (truncated)...]
2025-11-06 09:57:15 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 09:57:15 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Products retrieved successfully. Page 1 of 1, data=Page 1 of 1 con (truncated)...]
2025-11-06 09:57:15 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 09:57:15 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 09:57:40 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/stores
2025-11-06 09:57:40 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 09:57:40 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 09:57:40 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/products
2025-11-06 09:57:40 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/products/categories
2025-11-06 09:57:40 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 09:57:40 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 09:57:40 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 09:57:40 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 09:57:40 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 09:57:40 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 09:57:40 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 09:57:40 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 09:57:40 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 09:57:40 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 09:57:40 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 09:57:40 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 09:57:40 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 09:57:40 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/stores?active=true", parameters={masked}
2025-11-06 09:57:40 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products?page=0&size=25&sortBy=name&sortDirection=asc", parameters={masked}
2025-11-06 09:57:40 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/categories", parameters={}
2025-11-06 09:57:40 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.ProductController#getAllProducts(int, int, String, String, String, String, String, Boolean)
2025-11-06 09:57:40 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.StoreController#getAllStores(Boolean)
2025-11-06 09:57:40 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.ProductController#getCategories()
2025-11-06 09:57:40 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT p.category 
    FROM
        Product p 
    WHERE
        p.category IS NOT NULL 
    ORDER BY
        p.category */ select
            distinct p1_0.category 
        from
            products p1_0 
        where
            p1_0.category is not null 
        order by
            p1_0.category
2025-11-06 09:57:40 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        s 
    FROM
        Store s 
    WHERE
        s.isActive = true 
    ORDER BY
        s.name ASC */ select
            s1_0.id,
            s1_0.access_code,
            s1_0.address,
            s1_0.city,
            s1_0.code,
            s1_0.country,
            s1_0.created_at,
            s1_0.created_by,
            s1_0.currency,
            s1_0.deleted_at,
            s1_0.email,
            s1_0.is_active,
            s1_0.name,
            s1_0.phone,
            s1_0.postal_code,
            s1_0.settings,
            s1_0.state,
            s1_0.tax_id,
            s1_0.timezone,
            s1_0.updated_at,
            s1_0.updated_by 
        from
            stores s1_0 
        where
            s1_0.is_active=true 
        order by
            s1_0.name
2025-11-06 09:57:40 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    order by
        p1_0.name 
    offset
        ? rows 
    fetch
        first ? rows only
2025-11-06 09:57:40 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 09:57:40 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Categories retrieved successfully, data=[], error=null)]
2025-11-06 09:57:40 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 09:57:40 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 09:57:40 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Stores retrieved successfully, data=[StoreResponse(id=1, code=MAIN (truncated)...]
2025-11-06 09:57:40 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 09:57:40 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 09:57:40 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Products retrieved successfully. Page 1 of 1, data=Page 1 of 1 con (truncated)...]
2025-11-06 09:57:40 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 09:57:52 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/products
2025-11-06 09:57:52 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/stores
2025-11-06 09:57:52 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 09:57:52 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/products/categories
2025-11-06 09:57:52 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 09:57:52 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 09:57:52 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 09:57:52 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 09:57:52 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 09:57:52 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 09:57:52 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 09:57:52 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 09:57:52 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 09:57:52 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 09:57:52 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 09:57:52 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 09:57:52 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 09:57:52 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 09:57:52 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/categories", parameters={}
2025-11-06 09:57:52 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/stores?active=true", parameters={masked}
2025-11-06 09:57:52 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products?page=0&size=25&sortBy=name&sortDirection=asc", parameters={masked}
2025-11-06 09:57:52 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.ProductController#getCategories()
2025-11-06 09:57:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.StoreController#getAllStores(Boolean)
2025-11-06 09:57:52 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.ProductController#getAllProducts(int, int, String, String, String, String, String, Boolean)
2025-11-06 09:57:52 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT p.category 
    FROM
        Product p 
    WHERE
        p.category IS NOT NULL 
    ORDER BY
        p.category */ select
            distinct p1_0.category 
        from
            products p1_0 
        where
            p1_0.category is not null 
        order by
            p1_0.category
2025-11-06 09:57:52 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        s 
    FROM
        Store s 
    WHERE
        s.isActive = true 
    ORDER BY
        s.name ASC */ select
            s1_0.id,
            s1_0.access_code,
            s1_0.address,
            s1_0.city,
            s1_0.code,
            s1_0.country,
            s1_0.created_at,
            s1_0.created_by,
            s1_0.currency,
            s1_0.deleted_at,
            s1_0.email,
            s1_0.is_active,
            s1_0.name,
            s1_0.phone,
            s1_0.postal_code,
            s1_0.settings,
            s1_0.state,
            s1_0.tax_id,
            s1_0.timezone,
            s1_0.updated_at,
            s1_0.updated_by 
        from
            stores s1_0 
        where
            s1_0.is_active=true 
        order by
            s1_0.name
2025-11-06 09:57:52 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    order by
        p1_0.name 
    offset
        ? rows 
    fetch
        first ? rows only
2025-11-06 09:57:52 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 09:57:52 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Categories retrieved successfully, data=[], error=null)]
2025-11-06 09:57:52 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 09:57:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 09:57:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Stores retrieved successfully, data=[StoreResponse(id=1, code=MAIN (truncated)...]
2025-11-06 09:57:52 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 09:57:52 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Products retrieved successfully. Page 1 of 1, data=Page 1 of 1 con (truncated)...]
2025-11-06 09:57:52 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 09:57:52 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 09:59:21 [http-nio-8080-exec-2] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/stores
2025-11-06 09:59:21 [http-nio-8080-exec-2] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 09:59:21 [http-nio-8080-exec-2] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 09:59:21 [http-nio-8080-exec-2] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 09:59:21 [http-nio-8080-exec-2] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 09:59:21 [http-nio-8080-exec-2] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 09:59:21 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/stores?active=true", parameters={masked}
2025-11-06 09:59:21 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.StoreController#getAllStores(Boolean)
2025-11-06 09:59:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        s 
    FROM
        Store s 
    WHERE
        s.isActive = true 
    ORDER BY
        s.name ASC */ select
            s1_0.id,
            s1_0.access_code,
            s1_0.address,
            s1_0.city,
            s1_0.code,
            s1_0.country,
            s1_0.created_at,
            s1_0.created_by,
            s1_0.currency,
            s1_0.deleted_at,
            s1_0.email,
            s1_0.is_active,
            s1_0.name,
            s1_0.phone,
            s1_0.postal_code,
            s1_0.settings,
            s1_0.state,
            s1_0.tax_id,
            s1_0.timezone,
            s1_0.updated_at,
            s1_0.updated_by 
        from
            stores s1_0 
        where
            s1_0.is_active=true 
        order by
            s1_0.name
2025-11-06 09:59:21 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 09:59:21 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Stores retrieved successfully, data=[StoreResponse(id=1, code=MAIN (truncated)...]
2025-11-06 09:59:21 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 09:59:26 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/products/categories
2025-11-06 09:59:26 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/products
2025-11-06 09:59:26 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 09:59:26 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 09:59:26 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 09:59:26 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 09:59:26 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 09:59:26 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 09:59:26 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 09:59:26 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 09:59:26 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 09:59:26 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 09:59:26 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products?page=0&size=25&sortBy=name&sortDirection=asc", parameters={masked}
2025-11-06 09:59:26 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.ProductController#getAllProducts(int, int, String, String, String, String, String, Boolean)
2025-11-06 09:59:26 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/categories", parameters={}
2025-11-06 09:59:26 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    order by
        p1_0.name 
    offset
        ? rows 
    fetch
        first ? rows only
2025-11-06 09:59:26 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.ProductController#getCategories()
2025-11-06 09:59:26 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT p.category 
    FROM
        Product p 
    WHERE
        p.category IS NOT NULL 
    ORDER BY
        p.category */ select
            distinct p1_0.category 
        from
            products p1_0 
        where
            p1_0.category is not null 
        order by
            p1_0.category
2025-11-06 09:59:26 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 09:59:26 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Products retrieved successfully. Page 1 of 1, data=Page 1 of 1 con (truncated)...]
2025-11-06 09:59:26 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 09:59:26 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Categories retrieved successfully, data=[], error=null)]
2025-11-06 09:59:26 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 09:59:26 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 10:02:01 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/stores
2025-11-06 10:02:01 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/products
2025-11-06 10:02:01 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/products/categories
2025-11-06 10:02:01 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 10:02:01 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 10:02:01 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 10:02:01 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 10:02:01 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 10:02:01 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 10:02:01 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 10:02:01 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 10:02:01 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 10:02:01 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 10:02:01 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 10:02:01 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 10:02:01 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 10:02:01 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 10:02:01 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 10:02:01 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/categories", parameters={}
2025-11-06 10:02:01 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/stores?active=true", parameters={masked}
2025-11-06 10:02:01 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products?page=0&size=25&sortBy=name&sortDirection=asc", parameters={masked}
2025-11-06 10:02:01 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.ProductController#getCategories()
2025-11-06 10:02:01 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.StoreController#getAllStores(Boolean)
2025-11-06 10:02:01 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.ProductController#getAllProducts(int, int, String, String, String, String, String, Boolean)
2025-11-06 10:02:01 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT p.category 
    FROM
        Product p 
    WHERE
        p.category IS NOT NULL 
    ORDER BY
        p.category */ select
            distinct p1_0.category 
        from
            products p1_0 
        where
            p1_0.category is not null 
        order by
            p1_0.category
2025-11-06 10:02:01 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        s 
    FROM
        Store s 
    WHERE
        s.isActive = true 
    ORDER BY
        s.name ASC */ select
            s1_0.id,
            s1_0.access_code,
            s1_0.address,
            s1_0.city,
            s1_0.code,
            s1_0.country,
            s1_0.created_at,
            s1_0.created_by,
            s1_0.currency,
            s1_0.deleted_at,
            s1_0.email,
            s1_0.is_active,
            s1_0.name,
            s1_0.phone,
            s1_0.postal_code,
            s1_0.settings,
            s1_0.state,
            s1_0.tax_id,
            s1_0.timezone,
            s1_0.updated_at,
            s1_0.updated_by 
        from
            stores s1_0 
        where
            s1_0.is_active=true 
        order by
            s1_0.name
2025-11-06 10:02:01 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    order by
        p1_0.name 
    offset
        ? rows 
    fetch
        first ? rows only
2025-11-06 10:02:01 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 10:02:01 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Categories retrieved successfully, data=[], error=null)]
2025-11-06 10:02:01 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 10:02:01 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 10:02:01 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Stores retrieved successfully, data=[StoreResponse(id=1, code=MAIN (truncated)...]
2025-11-06 10:02:01 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 10:02:01 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 10:02:01 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Products retrieved successfully. Page 1 of 1, data=Page 1 of 1 con (truncated)...]
2025-11-06 10:02:01 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 10:05:56 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: POST /api/chat
2025-11-06 10:05:56 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 10:05:56 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 10:05:56 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 10:05:56 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 10:05:56 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 10:05:56 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/chat", parameters={}
2025-11-06 10:05:56 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.ChatController#chat(ChatRequest)
2025-11-06 10:05:56 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ChatController.ChatRequest(message=help me with PROD004?<EOL>Desk Lamp, conversationId=default)]
2025-11-06 10:05:56 [http-nio-8080-exec-4] INFO  c.a.api.controller.ChatController - Processing chat message for conversation: default
2025-11-06 10:05:56 [http-nio-8080-exec-4] INFO  c.a.ai.service.InvenGaduAgentService - Creating new InvenGadu agent for conversation: default
2025-11-06 10:05:56 [http-nio-8080-exec-4] INFO  c.a.ai.service.InvenGaduAgentService - Creating Ollama chat model: llama3.2:1b at http://localhost:11434
2025-11-06 10:05:57 [http-nio-8080-exec-4] INFO  c.a.ai.service.InvenGaduAgentService - Building AI service (llama3 - tools will be called manually)...
2025-11-06 10:05:57 [http-nio-8080-exec-4] INFO  c.a.ai.service.InvenGaduAgentService - AI agent created successfully
2025-11-06 10:05:57 [http-nio-8080-exec-4] INFO  c.a.api.controller.ChatController - Agent retrieved, sending message to LLM
2025-11-06 10:06:12 [http-nio-8080-exec-4] INFO  c.a.api.controller.ChatController - Chat completed in 15899ms for conversation: default
2025-11-06 10:06:12 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 10:06:12 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Chat response generated successfully, data=ChatController.ChatResp (truncated)...]
2025-11-06 10:06:12 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 10:12:23 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/products/categories
2025-11-06 10:12:23 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/products
2025-11-06 10:12:23 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 10:12:23 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/stores
2025-11-06 10:12:23 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 10:12:23 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 10:12:23 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 10:12:23 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 10:12:23 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 10:12:23 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 10:12:23 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 10:12:23 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 10:12:23 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 10:12:23 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 10:12:23 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 10:12:23 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 10:12:23 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 10:12:23 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 10:12:23 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/categories", parameters={}
2025-11-06 10:12:23 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products?page=0&size=25&sortBy=name&sortDirection=asc", parameters={masked}
2025-11-06 10:12:23 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/stores?active=true", parameters={masked}
2025-11-06 10:12:23 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.ProductController#getCategories()
2025-11-06 10:12:23 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.ProductController#getAllProducts(int, int, String, String, String, String, String, Boolean)
2025-11-06 10:12:23 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.StoreController#getAllStores(Boolean)
2025-11-06 10:12:23 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT p.category 
    FROM
        Product p 
    WHERE
        p.category IS NOT NULL 
    ORDER BY
        p.category */ select
            distinct p1_0.category 
        from
            products p1_0 
        where
            p1_0.category is not null 
        order by
            p1_0.category
2025-11-06 10:12:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        s 
    FROM
        Store s 
    WHERE
        s.isActive = true 
    ORDER BY
        s.name ASC */ select
            s1_0.id,
            s1_0.access_code,
            s1_0.address,
            s1_0.city,
            s1_0.code,
            s1_0.country,
            s1_0.created_at,
            s1_0.created_by,
            s1_0.currency,
            s1_0.deleted_at,
            s1_0.email,
            s1_0.is_active,
            s1_0.name,
            s1_0.phone,
            s1_0.postal_code,
            s1_0.settings,
            s1_0.state,
            s1_0.tax_id,
            s1_0.timezone,
            s1_0.updated_at,
            s1_0.updated_by 
        from
            stores s1_0 
        where
            s1_0.is_active=true 
        order by
            s1_0.name
2025-11-06 10:12:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    order by
        p1_0.name 
    offset
        ? rows 
    fetch
        first ? rows only
2025-11-06 10:12:23 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 10:12:23 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Stores retrieved successfully, data=[StoreResponse(id=1, code=MAIN (truncated)...]
2025-11-06 10:12:23 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 10:12:23 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 10:12:23 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Categories retrieved successfully, data=[], error=null)]
2025-11-06 10:12:23 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 10:12:23 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 10:12:23 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Products retrieved successfully. Page 1 of 1, data=Page 1 of 1 con (truncated)...]
2025-11-06 10:12:23 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 10:17:18 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/products
2025-11-06 10:17:18 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 10:17:18 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 10:17:18 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 10:17:18 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 10:17:18 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 10:17:18 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products?page=0&size=10&sortBy=name&sortDirection=asc", parameters={masked}
2025-11-06 10:17:18 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.ProductController#getAllProducts(int, int, String, String, String, String, String, Boolean)
2025-11-06 10:17:18 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    order by
        p1_0.name 
    offset
        ? rows 
    fetch
        first ? rows only
2025-11-06 10:17:18 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 10:17:18 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Products retrieved successfully. Page 1 of 1, data=Page 1 of 1 con (truncated)...]
2025-11-06 10:17:18 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 10:17:20 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/products
2025-11-06 10:17:20 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 10:17:20 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 10:17:20 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 10:17:20 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 10:17:20 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 10:17:20 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products?page=0&size=100&sortBy=name&sortDirection=asc", parameters={masked}
2025-11-06 10:17:20 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.ProductController#getAllProducts(int, int, String, String, String, String, String, Boolean)
2025-11-06 10:17:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    order by
        p1_0.name 
    offset
        ? rows 
    fetch
        first ? rows only
2025-11-06 10:17:20 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 10:17:20 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Products retrieved successfully. Page 1 of 1, data=Page 1 of 1 con (truncated)...]
2025-11-06 10:17:20 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 10:17:33 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/products
2025-11-06 10:17:33 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 10:17:33 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 10:17:33 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 10:17:33 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 10:17:33 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 10:17:33 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products?page=0&size=25&sortBy=name&sortDirection=asc", parameters={masked}
2025-11-06 10:17:33 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.ProductController#getAllProducts(int, int, String, String, String, String, String, Boolean)
2025-11-06 10:17:33 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    order by
        p1_0.name 
    offset
        ? rows 
    fetch
        first ? rows only
2025-11-06 10:17:33 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 10:17:33 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Products retrieved successfully. Page 1 of 1, data=Page 1 of 1 con (truncated)...]
2025-11-06 10:17:33 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 10:17:35 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/products
2025-11-06 10:17:35 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 10:17:35 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 10:17:35 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 10:17:35 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 10:17:35 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 10:17:35 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products?page=0&size=100&sortBy=name&sortDirection=asc", parameters={masked}
2025-11-06 10:17:35 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.ProductController#getAllProducts(int, int, String, String, String, String, String, Boolean)
2025-11-06 10:17:35 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    order by
        p1_0.name 
    offset
        ? rows 
    fetch
        first ? rows only
2025-11-06 10:17:35 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 10:17:35 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Products retrieved successfully. Page 1 of 1, data=Page 1 of 1 con (truncated)...]
2025-11-06 10:17:35 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 10:18:32 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: POST /api/chat
2025-11-06 10:18:32 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 10:18:32 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 10:18:32 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 10:18:32 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 10:18:32 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 10:18:32 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/chat", parameters={}
2025-11-06 10:18:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.ChatController#chat(ChatRequest)
2025-11-06 10:18:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ChatController.ChatRequest(message=help me with Hello! I'm InvenGadu ð, conversationId=default)]
2025-11-06 10:18:32 [http-nio-8080-exec-7] INFO  c.a.api.controller.ChatController - Processing chat message for conversation: default
2025-11-06 10:18:32 [http-nio-8080-exec-7] INFO  c.a.api.controller.ChatController - Agent retrieved, sending message to LLM
2025-11-06 10:18:42 [http-nio-8080-exec-7] INFO  c.a.api.controller.ChatController - Chat completed in 9605ms for conversation: default
2025-11-06 10:18:42 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 10:18:42 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Chat response generated successfully, data=ChatController.ChatResp (truncated)...]
2025-11-06 10:18:42 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 10:19:02 [http-nio-8080-exec-2] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: POST /api/chat
2025-11-06 10:19:02 [http-nio-8080-exec-2] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 10:19:02 [http-nio-8080-exec-2] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 10:19:02 [http-nio-8080-exec-2] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 10:19:02 [http-nio-8080-exec-2] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 10:19:02 [http-nio-8080-exec-2] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 10:19:02 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/chat", parameters={}
2025-11-06 10:19:02 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.ChatController#chat(ChatRequest)
2025-11-06 10:19:02 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ChatController.ChatRequest(message=whats your name?, conversationId=default)]
2025-11-06 10:19:02 [http-nio-8080-exec-2] INFO  c.a.api.controller.ChatController - Processing chat message for conversation: default
2025-11-06 10:19:02 [http-nio-8080-exec-2] INFO  c.a.api.controller.ChatController - Agent retrieved, sending message to LLM
2025-11-06 10:19:05 [http-nio-8080-exec-2] INFO  c.a.api.controller.ChatController - Chat completed in 3053ms for conversation: default
2025-11-06 10:19:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 10:19:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Chat response generated successfully, data=ChatController.ChatResp (truncated)...]
2025-11-06 10:19:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 10:19:30 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: POST /api/chat
2025-11-06 10:19:30 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 10:19:30 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 10:19:30 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 10:19:30 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 10:19:30 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 10:19:30 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/chat", parameters={}
2025-11-06 10:19:30 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.ChatController#chat(ChatRequest)
2025-11-06 10:19:30 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ChatController.ChatRequest(message=help me with PROD001?<EOL>Laptop Pro 15, conversationId=default)]
2025-11-06 10:19:30 [http-nio-8080-exec-9] INFO  c.a.api.controller.ChatController - Processing chat message for conversation: default
2025-11-06 10:19:30 [http-nio-8080-exec-9] INFO  c.a.api.controller.ChatController - Agent retrieved, sending message to LLM
2025-11-06 10:19:44 [http-nio-8080-exec-9] INFO  c.a.api.controller.ChatController - Chat completed in 13625ms for conversation: default
2025-11-06 10:19:44 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 10:19:44 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Chat response generated successfully, data=ChatController.ChatResp (truncated)...]
2025-11-06 10:19:44 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 10:48:54 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: POST /api/auth/refresh
2025-11-06 10:48:54 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 10:48:54 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 10:48:54 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 10:48:54 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: null
2025-11-06 10:48:54 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: null
2025-11-06 10:48:54 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/refresh", parameters={}
2025-11-06 10:48:54 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.AuthController#refreshToken(String)
2025-11-06 10:48:54 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 10:48:54 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Token refreshed successfully, data=AuthResponse(accessToken=eyJhbG (truncated)...]
2025-11-06 10:48:54 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 10:48:56 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/stores
2025-11-06 10:48:56 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 10:48:56 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 10:48:56 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 10:48:56 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: VIEWER
2025-11-06 10:48:56 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: VIEWER
2025-11-06 10:48:56 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/stores?active=true", parameters={masked}
2025-11-06 10:48:56 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.StoreController#getAllStores(Boolean)
2025-11-06 10:48:56 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/products/categories
2025-11-06 10:48:56 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 10:48:56 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/products
2025-11-06 10:48:56 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 10:48:56 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 10:48:56 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 10:48:56 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 10:48:56 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 10:48:56 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: VIEWER
2025-11-06 10:48:56 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: VIEWER
2025-11-06 10:48:56 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: VIEWER
2025-11-06 10:48:56 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: VIEWER
2025-11-06 10:48:56 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products?page=0&size=25&sortBy=name&sortDirection=asc", parameters={masked}
2025-11-06 10:48:56 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/categories", parameters={}
2025-11-06 10:48:56 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.ProductController#getAllProducts(int, int, String, String, String, String, String, Boolean)
2025-11-06 10:48:56 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.ProductController#getCategories()
2025-11-06 10:48:56 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT p.category 
    FROM
        Product p 
    WHERE
        p.category IS NOT NULL 
    ORDER BY
        p.category */ select
            distinct p1_0.category 
        from
            products p1_0 
        where
            p1_0.category is not null 
        order by
            p1_0.category
2025-11-06 10:48:56 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    order by
        p1_0.name 
    offset
        ? rows 
    fetch
        first ? rows only
2025-11-06 10:48:56 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 10:48:56 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Categories retrieved successfully, data=[], error=null)]
2025-11-06 10:48:56 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 10:48:56 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 10:48:56 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Products retrieved successfully. Page 1 of 1, data=Page 1 of 1 con (truncated)...]
2025-11-06 10:48:56 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 10:48:56 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.allocat.api.exception.GlobalExceptionHandler#handleAccessDeniedException(AccessDeniedException)
2025-11-06 10:48:56 [http-nio-8080-exec-6] WARN  c.a.a.e.GlobalExceptionHandler - Access denied: Access Denied
2025-11-06 10:48:56 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 10:48:56 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=false, message=null, data=null, error=You don't have permission to access this r (truncated)...]
2025-11-06 10:48:56 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-11-06 10:48:56 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 403 FORBIDDEN
2025-11-06 10:49:18 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=21m12s611ms957Âµs100ns).
2025-11-06 11:01:03 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/stores
2025-11-06 11:01:03 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 11:01:03 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 11:01:03 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 11:01:03 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: VIEWER
2025-11-06 11:01:03 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/products/categories
2025-11-06 11:01:03 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 11:01:03 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/products
2025-11-06 11:01:03 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 11:01:03 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 11:01:03 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: VIEWER
2025-11-06 11:01:03 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 11:01:03 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 11:01:03 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/stores?active=true", parameters={masked}
2025-11-06 11:01:03 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 11:01:03 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: VIEWER
2025-11-06 11:01:03 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.StoreController#getAllStores(Boolean)
2025-11-06 11:01:03 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: VIEWER
2025-11-06 11:01:03 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: VIEWER
2025-11-06 11:01:03 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products?page=0&size=25&sortBy=name&sortDirection=asc", parameters={masked}
2025-11-06 11:01:03 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: VIEWER
2025-11-06 11:01:03 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.ProductController#getAllProducts(int, int, String, String, String, String, String, Boolean)
2025-11-06 11:01:03 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.allocat.api.exception.GlobalExceptionHandler#handleAccessDeniedException(AccessDeniedException)
2025-11-06 11:01:03 [http-nio-8080-exec-5] WARN  c.a.a.e.GlobalExceptionHandler - Access denied: Access Denied
2025-11-06 11:01:03 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/categories", parameters={}
2025-11-06 11:01:03 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.ProductController#getCategories()
2025-11-06 11:01:03 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 11:01:03 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    order by
        p1_0.name 
    offset
        ? rows 
    fetch
        first ? rows only
2025-11-06 11:01:03 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT p.category 
    FROM
        Product p 
    WHERE
        p.category IS NOT NULL 
    ORDER BY
        p.category */ select
            distinct p1_0.category 
        from
            products p1_0 
        where
            p1_0.category is not null 
        order by
            p1_0.category
2025-11-06 11:01:03 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=false, message=null, data=null, error=You don't have permission to access this r (truncated)...]
2025-11-06 11:01:03 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-11-06 11:01:03 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 403 FORBIDDEN
2025-11-06 11:01:03 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 11:01:03 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Categories retrieved successfully, data=[], error=null)]
2025-11-06 11:01:03 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 11:01:03 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 11:01:03 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Products retrieved successfully. Page 1 of 1, data=Page 1 of 1 con (truncated)...]
2025-11-06 11:01:03 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 11:04:07 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/products/categories
2025-11-06 11:04:07 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 11:04:07 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 11:04:07 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 11:04:07 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: VIEWER
2025-11-06 11:04:07 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: VIEWER
2025-11-06 11:04:07 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/products
2025-11-06 11:04:07 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/stores
2025-11-06 11:04:07 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/categories", parameters={}
2025-11-06 11:04:07 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.ProductController#getCategories()
2025-11-06 11:04:07 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 11:04:07 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 11:04:07 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT p.category 
    FROM
        Product p 
    WHERE
        p.category IS NOT NULL 
    ORDER BY
        p.category */ select
            distinct p1_0.category 
        from
            products p1_0 
        where
            p1_0.category is not null 
        order by
            p1_0.category
2025-11-06 11:04:07 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 11:04:07 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 11:04:07 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 11:04:07 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 11:04:07 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: VIEWER
2025-11-06 11:04:07 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Categories retrieved successfully, data=[], error=null)]
2025-11-06 11:04:07 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 11:04:07 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 11:04:07 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: VIEWER
2025-11-06 11:04:07 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: VIEWER
2025-11-06 11:04:07 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/stores?active=true", parameters={masked}
2025-11-06 11:04:07 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.StoreController#getAllStores(Boolean)
2025-11-06 11:04:07 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: VIEWER
2025-11-06 11:04:07 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.allocat.api.exception.GlobalExceptionHandler#handleAccessDeniedException(AccessDeniedException)
2025-11-06 11:04:07 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products?page=0&size=25&sortBy=name&sortDirection=asc", parameters={masked}
2025-11-06 11:04:07 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.ProductController#getAllProducts(int, int, String, String, String, String, String, Boolean)
2025-11-06 11:04:07 [http-nio-8080-exec-9] WARN  c.a.a.e.GlobalExceptionHandler - Access denied: Access Denied
2025-11-06 11:04:07 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 11:04:07 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=false, message=null, data=null, error=You don't have permission to access this r (truncated)...]
2025-11-06 11:04:07 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-11-06 11:04:07 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 403 FORBIDDEN
2025-11-06 11:04:07 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    order by
        p1_0.name 
    offset
        ? rows 
    fetch
        first ? rows only
2025-11-06 11:04:07 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 11:04:07 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Products retrieved successfully. Page 1 of 1, data=Page 1 of 1 con (truncated)...]
2025-11-06 11:04:07 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 11:04:30 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/stores
2025-11-06 11:04:30 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 11:04:30 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 11:04:30 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 11:04:30 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: VIEWER
2025-11-06 11:04:30 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: VIEWER
2025-11-06 11:04:30 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/stores?active=true", parameters={masked}
2025-11-06 11:04:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.StoreController#getAllStores(Boolean)
2025-11-06 11:04:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.allocat.api.exception.GlobalExceptionHandler#handleAccessDeniedException(AccessDeniedException)
2025-11-06 11:04:30 [http-nio-8080-exec-4] WARN  c.a.a.e.GlobalExceptionHandler - Access denied: Access Denied
2025-11-06 11:04:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 11:04:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=false, message=null, data=null, error=You don't have permission to access this r (truncated)...]
2025-11-06 11:04:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-11-06 11:04:30 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 403 FORBIDDEN
2025-11-06 11:05:28 [main] INFO  com.allocat.api.AllocatApplication - Starting AllocatApplication using Java 21.0.8 with PID 15808 (C:\Work Space\Allocat\Backend\allocat-erp-backend\allocat-api\target\classes started by jayas in C:\Work Space\Allocat\Backend)
2025-11-06 11:05:28 [main] DEBUG com.allocat.api.AllocatApplication - Running with Spring Boot v3.3.4, Spring v6.1.13
2025-11-06 11:05:28 [main] INFO  com.allocat.api.AllocatApplication - The following 1 profile is active: "dev"
2025-11-06 11:05:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-06 11:05:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-06 11:05:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 188 ms. Found 6 JPA repository interfaces.
2025-11-06 11:05:31 [main] INFO  org.reflections.Reflections - Reflections took 90 ms to scan 2 urls, producing 10 keys and 39 values
2025-11-06 11:05:32 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-06 11:05:32 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-06 11:05:32 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.30]
2025-11-06 11:05:32 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-06 11:05:32 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4253 ms
2025-11-06 11:05:32 [main] DEBUG c.a.s.jwt.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-06 11:05:32 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-06 11:05:32 [main] DEBUG o.s.web.filter.CorsFilter - Filter 'corsFilter' configured for use
2025-11-06 11:05:33 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-06 11:05:33 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6b33892a
2025-11-06 11:05:33 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-06 11:05:33 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/allocat_db (PostgreSQL 17.6)
2025-11-06 11:05:33 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.6 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 16.
2025-11-06 11:05:33 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 11 migrations (execution time 00:00.052s)
2025-11-06 11:05:33 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 11
2025-11-06 11:05:33 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-11-06 11:05:34 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-06 11:05:34 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-11-06 11:05:34 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-06 11:05:34 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-06 11:05:34 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-06 11:05:35 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-06 11:05:35 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-06 11:05:36 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-06 11:05:37 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-06 11:05:37 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 41fefa87-09a0-4a12-87d5-1d23c32031e8

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-11-06 11:05:37 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-11-06 11:05:37 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 43 mappings in 'requestMappingHandlerMapping'
2025-11-06 11:05:38 [main] DEBUG o.s.w.s.c.a.WebMvcConfigurer - Default resource handling disabled
2025-11-06 11:05:38 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-06 11:05:38 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-11-06 11:05:38 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-06 11:05:38 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-06 11:05:39 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-11-06 11:05:39 [main] INFO  com.allocat.api.AllocatApplication - Started AllocatApplication in 11.535 seconds (process running for 12.154)
2025-11-06 11:05:42 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-06 11:05:42 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-06 11:05:42 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-11-06 11:05:42 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-11-06 11:05:42 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-11-06 11:05:42 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@7dbfb886
2025-11-06 11:05:42 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@4260de0d
2025-11-06 11:05:42 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-11-06 11:05:42 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 5 ms
2025-11-06 11:05:42 [http-nio-8080-exec-2] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/stores
2025-11-06 11:05:42 [http-nio-8080-exec-2] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 11:05:42 [http-nio-8080-exec-2] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 11:05:42 [http-nio-8080-exec-2] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 11:05:42 [http-nio-8080-exec-2] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: VIEWER
2025-11-06 11:05:42 [http-nio-8080-exec-2] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: VIEWER
2025-11-06 11:05:42 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/stores?active=true", parameters={masked}
2025-11-06 11:05:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.StoreController#getAllStores(Boolean)
2025-11-06 11:05:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.allocat.api.exception.GlobalExceptionHandler#handleAccessDeniedException(AccessDeniedException)
2025-11-06 11:05:42 [http-nio-8080-exec-2] WARN  c.a.a.e.GlobalExceptionHandler - Access denied: Access Denied
2025-11-06 11:05:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 11:05:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=false, message=null, data=null, error=You don't have permission to access this r (truncated)...]
2025-11-06 11:05:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-11-06 11:05:42 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 403 FORBIDDEN
2025-11-06 11:08:30 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/stores
2025-11-06 11:08:30 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 11:08:30 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 11:08:30 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 11:08:30 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: VIEWER
2025-11-06 11:08:30 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: VIEWER
2025-11-06 11:08:30 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/stores?active=true", parameters={masked}
2025-11-06 11:08:30 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.StoreController#getAllStores(Boolean)
2025-11-06 11:08:30 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.allocat.api.exception.GlobalExceptionHandler#handleAccessDeniedException(AccessDeniedException)
2025-11-06 11:08:30 [http-nio-8080-exec-1] WARN  c.a.a.e.GlobalExceptionHandler - Access denied: Access Denied
2025-11-06 11:08:30 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 11:08:30 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=false, message=null, data=null, error=You don't have permission to access this r (truncated)...]
2025-11-06 11:08:30 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-11-06 11:08:30 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 403 FORBIDDEN
2025-11-06 11:09:03 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/stores
2025-11-06 11:09:03 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 11:09:03 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 11:09:03 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 11:09:03 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: VIEWER
2025-11-06 11:09:03 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: VIEWER
2025-11-06 11:09:03 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/stores?active=true", parameters={masked}
2025-11-06 11:09:03 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.StoreController#getAllStores(Boolean)
2025-11-06 11:09:03 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.allocat.api.exception.GlobalExceptionHandler#handleAccessDeniedException(AccessDeniedException)
2025-11-06 11:09:03 [http-nio-8080-exec-6] WARN  c.a.a.e.GlobalExceptionHandler - Access denied: Access Denied
2025-11-06 11:09:03 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 11:09:03 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=false, message=null, data=null, error=You don't have permission to access this r (truncated)...]
2025-11-06 11:09:03 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-11-06 11:09:03 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 403 FORBIDDEN
2025-11-06 11:09:12 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/inventory/current
2025-11-06 11:09:12 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 11:09:12 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 11:09:12 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 11:09:12 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: VIEWER
2025-11-06 11:09:12 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: VIEWER
2025-11-06 11:09:12 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/current", parameters={}
2025-11-06 11:09:12 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.InventoryController#getCurrentInventory(int, int, String, String)
2025-11-06 11:09:12 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        i 
    FROM
        Inventory i 
    WHERE
        i.availableQuantity > 0 
    order by
        i.id asc */ select
            i1_0.id,
            i1_0.available_quantity,
            i1_0.batch_number,
            i1_0.bin,
            i1_0.created_at,
            i1_0.created_by,
            i1_0.current_quantity,
            i1_0.deleted_at,
            i1_0.expiry_date,
            i1_0.last_updated,
            i1_0.last_updated_by,
            i1_0.location,
            i1_0.notes,
            i1_0.product_id,
            i1_0.purchase_order_number,
            i1_0.received_stock_id,
            i1_0.reserved_quantity,
            i1_0.shelf,
            i1_0.store_id,
            i1_0.supplier_name,
            i1_0.total_value,
            i1_0.unit_cost,
            i1_0.updated_at,
            i1_0.updated_by,
            i1_0.warehouse 
        from
            inventory i1_0 
        where
            i1_0.available_quantity>0 
        order by
            i1_0.id 
        fetch
            first ? rows only
2025-11-06 11:09:12 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 11:09:12 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Current inventory retrieved successfully. Page 1 of 1, data=Page 1 (truncated)...]
2025-11-06 11:09:12 [http-nio-8080-exec-10] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-11-06 11:09:12 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:09:12 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        s1_0.id,
        s1_0.access_code,
        s1_0.address,
        s1_0.city,
        s1_0.code,
        s1_0.country,
        s1_0.created_at,
        s1_0.created_by,
        s1_0.currency,
        s1_0.deleted_at,
        s1_0.email,
        s1_0.is_active,
        s1_0.name,
        s1_0.phone,
        s1_0.postal_code,
        s1_0.settings,
        s1_0.state,
        s1_0.tax_id,
        s1_0.timezone,
        s1_0.updated_at,
        s1_0.updated_by 
    from
        stores s1_0 
    where
        s1_0.id=?
2025-11-06 11:09:12 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:09:12 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:09:12 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 11:09:20 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: POST /api/chat
2025-11-06 11:09:20 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 11:09:20 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 11:09:20 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 11:09:20 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: VIEWER
2025-11-06 11:09:20 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: VIEWER
2025-11-06 11:09:20 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/chat", parameters={}
2025-11-06 11:09:20 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.ChatController#chat(ChatRequest)
2025-11-06 11:09:21 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ChatController.ChatRequest(message=You are a CSV data mapping expert for an inventory management sys (truncated)...]
2025-11-06 11:09:21 [http-nio-8080-exec-4] INFO  c.a.api.controller.ChatController - Processing chat message for conversation: csv-mapping-1762445360953
2025-11-06 11:09:21 [http-nio-8080-exec-4] INFO  c.a.ai.service.InvenGaduAgentService - Creating new InvenGadu agent for conversation: csv-mapping-1762445360953
2025-11-06 11:09:21 [http-nio-8080-exec-4] INFO  c.a.ai.service.InvenGaduAgentService - Creating Ollama chat model: llama3.2:1b at http://localhost:11434
2025-11-06 11:09:21 [http-nio-8080-exec-4] INFO  c.a.ai.service.InvenGaduAgentService - Building AI service (llama3 - tools will be called manually)...
2025-11-06 11:09:21 [http-nio-8080-exec-4] INFO  c.a.ai.service.InvenGaduAgentService - AI agent created successfully
2025-11-06 11:09:21 [http-nio-8080-exec-4] INFO  c.a.api.controller.ChatController - Agent retrieved, sending message to LLM
2025-11-06 11:09:21 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        i 
    FROM
        Inventory i 
    WHERE
        i.availableQuantity > 0 */ select
            i1_0.id,
            i1_0.available_quantity,
            i1_0.batch_number,
            i1_0.bin,
            i1_0.created_at,
            i1_0.created_by,
            i1_0.current_quantity,
            i1_0.deleted_at,
            i1_0.expiry_date,
            i1_0.last_updated,
            i1_0.last_updated_by,
            i1_0.location,
            i1_0.notes,
            i1_0.product_id,
            i1_0.purchase_order_number,
            i1_0.received_stock_id,
            i1_0.reserved_quantity,
            i1_0.shelf,
            i1_0.store_id,
            i1_0.supplier_name,
            i1_0.total_value,
            i1_0.unit_cost,
            i1_0.updated_at,
            i1_0.updated_by,
            i1_0.warehouse 
        from
            inventory i1_0 
        where
            i1_0.available_quantity>0
2025-11-06 11:09:21 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:09:21 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:09:21 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:10:11 [http-nio-8080-exec-4] INFO  c.a.api.controller.ChatController - Chat completed in 50366ms for conversation: csv-mapping-1762445360953
2025-11-06 11:10:11 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 11:10:11 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Chat response generated successfully, data=ChatController.ChatResp (truncated)...]
2025-11-06 11:10:11 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 11:10:41 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: POST /api/inventory/received-stock
2025-11-06 11:10:41 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 11:10:41 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 11:10:41 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 11:10:41 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: VIEWER
2025-11-06 11:10:41 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: VIEWER
2025-11-06 11:10:41 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/inventory/received-stock", parameters={}
2025-11-06 11:10:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.InventoryController#addReceivedStock(List)
2025-11-06 11:10:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [[ReceivedStockRequest(productCode=Sample product_code, productName=Sample product_name, description= (truncated)...]
2025-11-06 11:10:41 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.product_code=?
2025-11-06 11:10:41 [http-nio-8080-exec-3] INFO  c.a.i.service.ReceivedStockService - Creating new product with code: Sample product_code
2025-11-06 11:10:41 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* insert for
        com.allocat.inventory.entity.Product */insert 
    into
        products (barcode, brand, category, color, created_at, created_by, deleted_at, description, dimensions, is_active, maximum_stock_level, minimum_stock_level, model, name, notes, product_code, size, sku, supplier_contact, supplier_name, unit_of_measure, unit_price, updated_at, updated_by, weight) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-11-06 11:10:42 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* insert for
        com.allocat.inventory.entity.ReceivedStock */insert 
    into
        received_stock (batch_number, created_at, created_by, csv_upload_id, damage_quantity, deleted_at, delivery_date, excess_quantity, expected_delivery_date, expected_quantity, notes, product_id, product_code, product_name, quality_issues, received_by, received_date, received_quantity, row_number, shortage_quantity, status, supplier_invoice_number, supplier_name, total_value, unit_price, updated_at, updated_by, verified_by, verified_date, verified_quantity) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-11-06 11:10:42 [http-nio-8080-exec-3] INFO  c.a.i.service.ReceivedStockService - Successfully processed 1 records from JSON payload
2025-11-06 11:10:42 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 11:10:42 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Received stock processed successfully. 1 records created., data=[R (truncated)...]
2025-11-06 11:10:42 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 11:10:42 [http-nio-8080-exec-2] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/inventory/received-stock
2025-11-06 11:10:42 [http-nio-8080-exec-2] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 11:10:42 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/inventory/current
2025-11-06 11:10:42 [http-nio-8080-exec-2] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 11:10:42 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 11:10:42 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 11:10:42 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 11:10:42 [http-nio-8080-exec-2] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 11:10:42 [http-nio-8080-exec-2] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: VIEWER
2025-11-06 11:10:42 [http-nio-8080-exec-2] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: VIEWER
2025-11-06 11:10:42 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: VIEWER
2025-11-06 11:10:42 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: VIEWER
2025-11-06 11:10:42 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/received-stock", parameters={}
2025-11-06 11:10:42 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/current", parameters={}
2025-11-06 11:10:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.InventoryController#getAllReceivedStock()
2025-11-06 11:10:42 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.InventoryController#getCurrentInventory(int, int, String, String)
2025-11-06 11:10:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        i 
    FROM
        Inventory i 
    WHERE
        i.availableQuantity > 0 
    order by
        i.id asc */ select
            i1_0.id,
            i1_0.available_quantity,
            i1_0.batch_number,
            i1_0.bin,
            i1_0.created_at,
            i1_0.created_by,
            i1_0.current_quantity,
            i1_0.deleted_at,
            i1_0.expiry_date,
            i1_0.last_updated,
            i1_0.last_updated_by,
            i1_0.location,
            i1_0.notes,
            i1_0.product_id,
            i1_0.purchase_order_number,
            i1_0.received_stock_id,
            i1_0.reserved_quantity,
            i1_0.shelf,
            i1_0.store_id,
            i1_0.supplier_name,
            i1_0.total_value,
            i1_0.unit_cost,
            i1_0.updated_at,
            i1_0.updated_by,
            i1_0.warehouse 
        from
            inventory i1_0 
        where
            i1_0.available_quantity>0 
        order by
            i1_0.id 
        fetch
            first ? rows only
2025-11-06 11:10:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        rs1_0.id,
        rs1_0.batch_number,
        rs1_0.created_at,
        rs1_0.created_by,
        rs1_0.csv_upload_id,
        rs1_0.damage_quantity,
        rs1_0.deleted_at,
        rs1_0.delivery_date,
        rs1_0.excess_quantity,
        rs1_0.expected_delivery_date,
        rs1_0.expected_quantity,
        rs1_0.notes,
        rs1_0.product_id,
        rs1_0.product_code,
        rs1_0.product_name,
        rs1_0.quality_issues,
        rs1_0.received_by,
        rs1_0.received_date,
        rs1_0.received_quantity,
        rs1_0.row_number,
        rs1_0.shortage_quantity,
        rs1_0.status,
        rs1_0.supplier_invoice_number,
        rs1_0.supplier_name,
        rs1_0.total_value,
        rs1_0.unit_price,
        rs1_0.updated_at,
        rs1_0.updated_by,
        rs1_0.verified_by,
        rs1_0.verified_date,
        rs1_0.verified_quantity 
    from
        received_stock rs1_0
2025-11-06 11:10:42 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 11:10:42 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Current inventory retrieved successfully. Page 1 of 1, data=Page 1 (truncated)...]
2025-11-06 11:10:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:10:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 11:10:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:10:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:10:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:10:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        s1_0.id,
        s1_0.access_code,
        s1_0.address,
        s1_0.city,
        s1_0.code,
        s1_0.country,
        s1_0.created_at,
        s1_0.created_by,
        s1_0.currency,
        s1_0.deleted_at,
        s1_0.email,
        s1_0.is_active,
        s1_0.name,
        s1_0.phone,
        s1_0.postal_code,
        s1_0.settings,
        s1_0.state,
        s1_0.tax_id,
        s1_0.timezone,
        s1_0.updated_at,
        s1_0.updated_by 
    from
        stores s1_0 
    where
        s1_0.id=?
2025-11-06 11:10:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:10:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:10:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:10:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:10:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:10:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:10:42 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 11:10:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:10:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:10:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=All received stock retrieved successfully, data=[ReceivedStock(id= (truncated)...]
2025-11-06 11:10:42 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 11:11:27 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: POST /api/chat
2025-11-06 11:11:27 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 11:11:27 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 11:11:27 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 11:11:27 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: VIEWER
2025-11-06 11:11:27 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: VIEWER
2025-11-06 11:11:27 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/chat", parameters={}
2025-11-06 11:11:27 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.ChatController#chat(ChatRequest)
2025-11-06 11:11:27 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ChatController.ChatRequest(message=You are a CSV data mapping expert for an inventory management sys (truncated)...]
2025-11-06 11:11:27 [http-nio-8080-exec-1] INFO  c.a.api.controller.ChatController - Processing chat message for conversation: csv-mapping-1762445487628
2025-11-06 11:11:27 [http-nio-8080-exec-1] INFO  c.a.ai.service.InvenGaduAgentService - Creating new InvenGadu agent for conversation: csv-mapping-1762445487628
2025-11-06 11:11:27 [http-nio-8080-exec-1] INFO  c.a.ai.service.InvenGaduAgentService - Creating Ollama chat model: llama3.2:1b at http://localhost:11434
2025-11-06 11:11:27 [http-nio-8080-exec-1] INFO  c.a.ai.service.InvenGaduAgentService - Building AI service (llama3 - tools will be called manually)...
2025-11-06 11:11:27 [http-nio-8080-exec-1] INFO  c.a.ai.service.InvenGaduAgentService - AI agent created successfully
2025-11-06 11:11:27 [http-nio-8080-exec-1] INFO  c.a.api.controller.ChatController - Agent retrieved, sending message to LLM
2025-11-06 11:11:27 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        i 
    FROM
        Inventory i 
    WHERE
        i.availableQuantity > 0 */ select
            i1_0.id,
            i1_0.available_quantity,
            i1_0.batch_number,
            i1_0.bin,
            i1_0.created_at,
            i1_0.created_by,
            i1_0.current_quantity,
            i1_0.deleted_at,
            i1_0.expiry_date,
            i1_0.last_updated,
            i1_0.last_updated_by,
            i1_0.location,
            i1_0.notes,
            i1_0.product_id,
            i1_0.purchase_order_number,
            i1_0.received_stock_id,
            i1_0.reserved_quantity,
            i1_0.shelf,
            i1_0.store_id,
            i1_0.supplier_name,
            i1_0.total_value,
            i1_0.unit_cost,
            i1_0.updated_at,
            i1_0.updated_by,
            i1_0.warehouse 
        from
            inventory i1_0 
        where
            i1_0.available_quantity>0
2025-11-06 11:11:27 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:11:27 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:11:27 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:11:56 [http-nio-8080-exec-1] INFO  c.a.api.controller.ChatController - Chat completed in 29320ms for conversation: csv-mapping-1762445487628
2025-11-06 11:11:56 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 11:11:56 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Chat response generated successfully, data=ChatController.ChatResp (truncated)...]
2025-11-06 11:11:56 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 11:12:11 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: POST /api/inventory/received-stock
2025-11-06 11:12:11 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 11:12:11 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 11:12:11 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 11:12:11 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: VIEWER
2025-11-06 11:12:11 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: VIEWER
2025-11-06 11:12:11 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/inventory/received-stock", parameters={}
2025-11-06 11:12:11 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.InventoryController#addReceivedStock(List)
2025-11-06 11:12:11 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [[ReceivedStockRequest(productCode=PROD001, productName=Laptop Pro 15, description=null, category=nul (truncated)...]
2025-11-06 11:12:11 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.product_code=?
2025-11-06 11:12:11 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.product_code=?
2025-11-06 11:12:11 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.product_code=?
2025-11-06 11:12:11 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.product_code=?
2025-11-06 11:12:11 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.product_code=?
2025-11-06 11:12:11 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.product_code=?
2025-11-06 11:12:11 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.product_code=?
2025-11-06 11:12:11 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.product_code=?
2025-11-06 11:12:11 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* insert for
        com.allocat.inventory.entity.ReceivedStock */insert 
    into
        received_stock (batch_number, created_at, created_by, csv_upload_id, damage_quantity, deleted_at, delivery_date, excess_quantity, expected_delivery_date, expected_quantity, notes, product_id, product_code, product_name, quality_issues, received_by, received_date, received_quantity, row_number, shortage_quantity, status, supplier_invoice_number, supplier_name, total_value, unit_price, updated_at, updated_by, verified_by, verified_date, verified_quantity) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-11-06 11:12:11 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* insert for
        com.allocat.inventory.entity.ReceivedStock */insert 
    into
        received_stock (batch_number, created_at, created_by, csv_upload_id, damage_quantity, deleted_at, delivery_date, excess_quantity, expected_delivery_date, expected_quantity, notes, product_id, product_code, product_name, quality_issues, received_by, received_date, received_quantity, row_number, shortage_quantity, status, supplier_invoice_number, supplier_name, total_value, unit_price, updated_at, updated_by, verified_by, verified_date, verified_quantity) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-11-06 11:12:11 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* insert for
        com.allocat.inventory.entity.ReceivedStock */insert 
    into
        received_stock (batch_number, created_at, created_by, csv_upload_id, damage_quantity, deleted_at, delivery_date, excess_quantity, expected_delivery_date, expected_quantity, notes, product_id, product_code, product_name, quality_issues, received_by, received_date, received_quantity, row_number, shortage_quantity, status, supplier_invoice_number, supplier_name, total_value, unit_price, updated_at, updated_by, verified_by, verified_date, verified_quantity) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-11-06 11:12:11 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* insert for
        com.allocat.inventory.entity.ReceivedStock */insert 
    into
        received_stock (batch_number, created_at, created_by, csv_upload_id, damage_quantity, deleted_at, delivery_date, excess_quantity, expected_delivery_date, expected_quantity, notes, product_id, product_code, product_name, quality_issues, received_by, received_date, received_quantity, row_number, shortage_quantity, status, supplier_invoice_number, supplier_name, total_value, unit_price, updated_at, updated_by, verified_by, verified_date, verified_quantity) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-11-06 11:12:11 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* insert for
        com.allocat.inventory.entity.ReceivedStock */insert 
    into
        received_stock (batch_number, created_at, created_by, csv_upload_id, damage_quantity, deleted_at, delivery_date, excess_quantity, expected_delivery_date, expected_quantity, notes, product_id, product_code, product_name, quality_issues, received_by, received_date, received_quantity, row_number, shortage_quantity, status, supplier_invoice_number, supplier_name, total_value, unit_price, updated_at, updated_by, verified_by, verified_date, verified_quantity) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-11-06 11:12:11 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* insert for
        com.allocat.inventory.entity.ReceivedStock */insert 
    into
        received_stock (batch_number, created_at, created_by, csv_upload_id, damage_quantity, deleted_at, delivery_date, excess_quantity, expected_delivery_date, expected_quantity, notes, product_id, product_code, product_name, quality_issues, received_by, received_date, received_quantity, row_number, shortage_quantity, status, supplier_invoice_number, supplier_name, total_value, unit_price, updated_at, updated_by, verified_by, verified_date, verified_quantity) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-11-06 11:12:11 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* insert for
        com.allocat.inventory.entity.ReceivedStock */insert 
    into
        received_stock (batch_number, created_at, created_by, csv_upload_id, damage_quantity, deleted_at, delivery_date, excess_quantity, expected_delivery_date, expected_quantity, notes, product_id, product_code, product_name, quality_issues, received_by, received_date, received_quantity, row_number, shortage_quantity, status, supplier_invoice_number, supplier_name, total_value, unit_price, updated_at, updated_by, verified_by, verified_date, verified_quantity) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-11-06 11:12:11 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* insert for
        com.allocat.inventory.entity.ReceivedStock */insert 
    into
        received_stock (batch_number, created_at, created_by, csv_upload_id, damage_quantity, deleted_at, delivery_date, excess_quantity, expected_delivery_date, expected_quantity, notes, product_id, product_code, product_name, quality_issues, received_by, received_date, received_quantity, row_number, shortage_quantity, status, supplier_invoice_number, supplier_name, total_value, unit_price, updated_at, updated_by, verified_by, verified_date, verified_quantity) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-11-06 11:12:11 [http-nio-8080-exec-6] INFO  c.a.i.service.ReceivedStockService - Successfully processed 8 records from JSON payload
2025-11-06 11:12:11 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 11:12:11 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Received stock processed successfully. 8 records created., data=[R (truncated)...]
2025-11-06 11:12:11 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 11:12:11 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/inventory/current
2025-11-06 11:12:11 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 11:12:11 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 11:12:11 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 11:12:11 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: VIEWER
2025-11-06 11:12:11 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: VIEWER
2025-11-06 11:12:11 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/current", parameters={}
2025-11-06 11:12:11 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.InventoryController#getCurrentInventory(int, int, String, String)
2025-11-06 11:12:11 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        i 
    FROM
        Inventory i 
    WHERE
        i.availableQuantity > 0 
    order by
        i.id asc */ select
            i1_0.id,
            i1_0.available_quantity,
            i1_0.batch_number,
            i1_0.bin,
            i1_0.created_at,
            i1_0.created_by,
            i1_0.current_quantity,
            i1_0.deleted_at,
            i1_0.expiry_date,
            i1_0.last_updated,
            i1_0.last_updated_by,
            i1_0.location,
            i1_0.notes,
            i1_0.product_id,
            i1_0.purchase_order_number,
            i1_0.received_stock_id,
            i1_0.reserved_quantity,
            i1_0.shelf,
            i1_0.store_id,
            i1_0.supplier_name,
            i1_0.total_value,
            i1_0.unit_cost,
            i1_0.updated_at,
            i1_0.updated_by,
            i1_0.warehouse 
        from
            inventory i1_0 
        where
            i1_0.available_quantity>0 
        order by
            i1_0.id 
        fetch
            first ? rows only
2025-11-06 11:12:11 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 11:12:11 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Current inventory retrieved successfully. Page 1 of 1, data=Page 1 (truncated)...]
2025-11-06 11:12:11 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:12:11 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        s1_0.id,
        s1_0.access_code,
        s1_0.address,
        s1_0.city,
        s1_0.code,
        s1_0.country,
        s1_0.created_at,
        s1_0.created_by,
        s1_0.currency,
        s1_0.deleted_at,
        s1_0.email,
        s1_0.is_active,
        s1_0.name,
        s1_0.phone,
        s1_0.postal_code,
        s1_0.settings,
        s1_0.state,
        s1_0.tax_id,
        s1_0.timezone,
        s1_0.updated_at,
        s1_0.updated_by 
    from
        stores s1_0 
    where
        s1_0.id=?
2025-11-06 11:12:11 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:12:11 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:12:11 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 11:13:09 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/inventory/discrepancies
2025-11-06 11:13:09 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 11:13:09 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 11:13:09 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 11:13:09 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: VIEWER
2025-11-06 11:13:09 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: VIEWER
2025-11-06 11:13:09 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/discrepancies", parameters={}
2025-11-06 11:13:09 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.InventoryController#getDiscrepancies()
2025-11-06 11:13:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        rs 
    FROM
        ReceivedStock rs 
    WHERE
        rs.status = 'PENDING' 
        AND rs.expectedQuantity != rs.receivedQuantity */ select
            rs1_0.id,
            rs1_0.batch_number,
            rs1_0.created_at,
            rs1_0.created_by,
            rs1_0.csv_upload_id,
            rs1_0.damage_quantity,
            rs1_0.deleted_at,
            rs1_0.delivery_date,
            rs1_0.excess_quantity,
            rs1_0.expected_delivery_date,
            rs1_0.expected_quantity,
            rs1_0.notes,
            rs1_0.product_id,
            rs1_0.product_code,
            rs1_0.product_name,
            rs1_0.quality_issues,
            rs1_0.received_by,
            rs1_0.received_date,
            rs1_0.received_quantity,
            rs1_0.row_number,
            rs1_0.shortage_quantity,
            rs1_0.status,
            rs1_0.supplier_invoice_number,
            rs1_0.supplier_name,
            rs1_0.total_value,
            rs1_0.unit_price,
            rs1_0.updated_at,
            rs1_0.updated_by,
            rs1_0.verified_by,
            rs1_0.verified_date,
            rs1_0.verified_quantity 
        from
            received_stock rs1_0 
        where
            rs1_0.status='PENDING' 
            and rs1_0.expected_quantity<>rs1_0.received_quantity
2025-11-06 11:13:09 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 11:13:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:13:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:13:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:13:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:13:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:13:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:13:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:13:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:13:09 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Stock discrepancies retrieved successfully, data=[ReceivedStock(id (truncated)...]
2025-11-06 11:13:09 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 11:13:26 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/inventory/received-stock
2025-11-06 11:13:26 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 11:13:26 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 11:13:26 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 11:13:26 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: VIEWER
2025-11-06 11:13:26 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: VIEWER
2025-11-06 11:13:26 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/received-stock", parameters={}
2025-11-06 11:13:26 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.InventoryController#getAllReceivedStock()
2025-11-06 11:13:26 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        rs1_0.id,
        rs1_0.batch_number,
        rs1_0.created_at,
        rs1_0.created_by,
        rs1_0.csv_upload_id,
        rs1_0.damage_quantity,
        rs1_0.deleted_at,
        rs1_0.delivery_date,
        rs1_0.excess_quantity,
        rs1_0.expected_delivery_date,
        rs1_0.expected_quantity,
        rs1_0.notes,
        rs1_0.product_id,
        rs1_0.product_code,
        rs1_0.product_name,
        rs1_0.quality_issues,
        rs1_0.received_by,
        rs1_0.received_date,
        rs1_0.received_quantity,
        rs1_0.row_number,
        rs1_0.shortage_quantity,
        rs1_0.status,
        rs1_0.supplier_invoice_number,
        rs1_0.supplier_name,
        rs1_0.total_value,
        rs1_0.unit_price,
        rs1_0.updated_at,
        rs1_0.updated_by,
        rs1_0.verified_by,
        rs1_0.verified_date,
        rs1_0.verified_quantity 
    from
        received_stock rs1_0
2025-11-06 11:13:26 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 11:13:26 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:13:26 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:13:26 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:13:26 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:13:26 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:13:26 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:13:26 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:13:26 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:13:26 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:13:26 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=All received stock retrieved successfully, data=[ReceivedStock(id= (truncated)...]
2025-11-06 11:13:26 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 11:13:35 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/inventory/received-stock
2025-11-06 11:13:35 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 11:13:35 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 11:13:35 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 11:13:35 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: VIEWER
2025-11-06 11:13:35 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: VIEWER
2025-11-06 11:13:35 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/received-stock", parameters={}
2025-11-06 11:13:35 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.InventoryController#getAllReceivedStock()
2025-11-06 11:13:35 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        rs1_0.id,
        rs1_0.batch_number,
        rs1_0.created_at,
        rs1_0.created_by,
        rs1_0.csv_upload_id,
        rs1_0.damage_quantity,
        rs1_0.deleted_at,
        rs1_0.delivery_date,
        rs1_0.excess_quantity,
        rs1_0.expected_delivery_date,
        rs1_0.expected_quantity,
        rs1_0.notes,
        rs1_0.product_id,
        rs1_0.product_code,
        rs1_0.product_name,
        rs1_0.quality_issues,
        rs1_0.received_by,
        rs1_0.received_date,
        rs1_0.received_quantity,
        rs1_0.row_number,
        rs1_0.shortage_quantity,
        rs1_0.status,
        rs1_0.supplier_invoice_number,
        rs1_0.supplier_name,
        rs1_0.total_value,
        rs1_0.unit_price,
        rs1_0.updated_at,
        rs1_0.updated_by,
        rs1_0.verified_by,
        rs1_0.verified_date,
        rs1_0.verified_quantity 
    from
        received_stock rs1_0
2025-11-06 11:13:35 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 11:13:35 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:13:35 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:13:35 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:13:35 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:13:35 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:13:35 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:13:35 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:13:35 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:13:35 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:13:35 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=All received stock retrieved successfully, data=[ReceivedStock(id= (truncated)...]
2025-11-06 11:13:35 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 11:13:37 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/inventory/received-stock
2025-11-06 11:13:37 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 11:13:37 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 11:13:37 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 11:13:37 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: VIEWER
2025-11-06 11:13:37 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: VIEWER
2025-11-06 11:13:37 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/received-stock", parameters={}
2025-11-06 11:13:37 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.InventoryController#getAllReceivedStock()
2025-11-06 11:13:37 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        rs1_0.id,
        rs1_0.batch_number,
        rs1_0.created_at,
        rs1_0.created_by,
        rs1_0.csv_upload_id,
        rs1_0.damage_quantity,
        rs1_0.deleted_at,
        rs1_0.delivery_date,
        rs1_0.excess_quantity,
        rs1_0.expected_delivery_date,
        rs1_0.expected_quantity,
        rs1_0.notes,
        rs1_0.product_id,
        rs1_0.product_code,
        rs1_0.product_name,
        rs1_0.quality_issues,
        rs1_0.received_by,
        rs1_0.received_date,
        rs1_0.received_quantity,
        rs1_0.row_number,
        rs1_0.shortage_quantity,
        rs1_0.status,
        rs1_0.supplier_invoice_number,
        rs1_0.supplier_name,
        rs1_0.total_value,
        rs1_0.unit_price,
        rs1_0.updated_at,
        rs1_0.updated_by,
        rs1_0.verified_by,
        rs1_0.verified_date,
        rs1_0.verified_quantity 
    from
        received_stock rs1_0
2025-11-06 11:13:37 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 11:13:37 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:13:37 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:13:37 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:13:37 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:13:37 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:13:37 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:13:37 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:13:37 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:13:37 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 11:13:37 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=All received stock retrieved successfully, data=[ReceivedStock(id= (truncated)...]
2025-11-06 11:13:37 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 12:12:58 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: POST /api/auth/refresh
2025-11-06 12:12:58 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 12:12:58 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 12:12:58 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 12:12:58 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: null
2025-11-06 12:12:58 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: null
2025-11-06 12:12:58 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/refresh", parameters={}
2025-11-06 12:12:58 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=52m24s158ms550Âµs100ns).
2025-11-06 12:12:58 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.AuthController#refreshToken(String)
2025-11-06 12:12:58 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 12:12:58 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Token refreshed successfully, data=AuthResponse(accessToken=eyJhbG (truncated)...]
2025-11-06 12:12:58 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 12:12:59 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/stores
2025-11-06 12:12:59 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 12:12:59 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 12:12:59 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/inventory/current
2025-11-06 12:12:59 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 12:12:59 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 12:12:59 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 12:12:59 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: VIEWER
2025-11-06 12:12:59 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: VIEWER
2025-11-06 12:12:59 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 12:12:59 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/stores?active=true", parameters={masked}
2025-11-06 12:12:59 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: VIEWER
2025-11-06 12:12:59 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.StoreController#getAllStores(Boolean)
2025-11-06 12:12:59 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: VIEWER
2025-11-06 12:12:59 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/current", parameters={}
2025-11-06 12:12:59 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.allocat.api.exception.GlobalExceptionHandler#handleAccessDeniedException(AccessDeniedException)
2025-11-06 12:12:59 [http-nio-8080-exec-9] WARN  c.a.a.e.GlobalExceptionHandler - Access denied: Access Denied
2025-11-06 12:12:59 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.InventoryController#getCurrentInventory(int, int, String, String)
2025-11-06 12:12:59 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 12:12:59 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=false, message=null, data=null, error=You don't have permission to access this r (truncated)...]
2025-11-06 12:12:59 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-11-06 12:12:59 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        i 
    FROM
        Inventory i 
    WHERE
        i.availableQuantity > 0 
    order by
        i.id asc */ select
            i1_0.id,
            i1_0.available_quantity,
            i1_0.batch_number,
            i1_0.bin,
            i1_0.created_at,
            i1_0.created_by,
            i1_0.current_quantity,
            i1_0.deleted_at,
            i1_0.expiry_date,
            i1_0.last_updated,
            i1_0.last_updated_by,
            i1_0.location,
            i1_0.notes,
            i1_0.product_id,
            i1_0.purchase_order_number,
            i1_0.received_stock_id,
            i1_0.reserved_quantity,
            i1_0.shelf,
            i1_0.store_id,
            i1_0.supplier_name,
            i1_0.total_value,
            i1_0.unit_cost,
            i1_0.updated_at,
            i1_0.updated_by,
            i1_0.warehouse 
        from
            inventory i1_0 
        where
            i1_0.available_quantity>0 
        order by
            i1_0.id 
        fetch
            first ? rows only
2025-11-06 12:12:59 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 403 FORBIDDEN
2025-11-06 12:12:59 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 12:12:59 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Current inventory retrieved successfully. Page 1 of 1, data=Page 1 (truncated)...]
2025-11-06 12:12:59 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 12:12:59 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        s1_0.id,
        s1_0.access_code,
        s1_0.address,
        s1_0.city,
        s1_0.code,
        s1_0.country,
        s1_0.created_at,
        s1_0.created_by,
        s1_0.currency,
        s1_0.deleted_at,
        s1_0.email,
        s1_0.is_active,
        s1_0.name,
        s1_0.phone,
        s1_0.postal_code,
        s1_0.settings,
        s1_0.state,
        s1_0.tax_id,
        s1_0.timezone,
        s1_0.updated_at,
        s1_0.updated_by 
    from
        stores s1_0 
    where
        s1_0.id=?
2025-11-06 12:12:59 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 12:12:59 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 12:12:59 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 12:14:20 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m22s77ms545Âµs400ns).
2025-11-06 12:18:45 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/stores
2025-11-06 12:18:45 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 12:18:45 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 12:18:45 [http-nio-8080-exec-2] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/inventory/current
2025-11-06 12:18:45 [http-nio-8080-exec-2] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 12:18:45 [http-nio-8080-exec-2] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 12:18:45 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 12:18:45 [http-nio-8080-exec-2] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 12:18:45 [http-nio-8080-exec-2] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: VIEWER
2025-11-06 12:18:45 [http-nio-8080-exec-2] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: VIEWER
2025-11-06 12:18:45 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: VIEWER
2025-11-06 12:18:45 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/current", parameters={}
2025-11-06 12:18:45 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: VIEWER
2025-11-06 12:18:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.InventoryController#getCurrentInventory(int, int, String, String)
2025-11-06 12:18:45 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        i 
    FROM
        Inventory i 
    WHERE
        i.availableQuantity > 0 
    order by
        i.id asc */ select
            i1_0.id,
            i1_0.available_quantity,
            i1_0.batch_number,
            i1_0.bin,
            i1_0.created_at,
            i1_0.created_by,
            i1_0.current_quantity,
            i1_0.deleted_at,
            i1_0.expiry_date,
            i1_0.last_updated,
            i1_0.last_updated_by,
            i1_0.location,
            i1_0.notes,
            i1_0.product_id,
            i1_0.purchase_order_number,
            i1_0.received_stock_id,
            i1_0.reserved_quantity,
            i1_0.shelf,
            i1_0.store_id,
            i1_0.supplier_name,
            i1_0.total_value,
            i1_0.unit_cost,
            i1_0.updated_at,
            i1_0.updated_by,
            i1_0.warehouse 
        from
            inventory i1_0 
        where
            i1_0.available_quantity>0 
        order by
            i1_0.id 
        fetch
            first ? rows only
2025-11-06 12:18:45 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/stores?active=true", parameters={masked}
2025-11-06 12:18:45 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.StoreController#getAllStores(Boolean)
2025-11-06 12:18:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 12:18:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Current inventory retrieved successfully. Page 1 of 1, data=Page 1 (truncated)...]
2025-11-06 12:18:45 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 12:18:45 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        s1_0.id,
        s1_0.access_code,
        s1_0.address,
        s1_0.city,
        s1_0.code,
        s1_0.country,
        s1_0.created_at,
        s1_0.created_by,
        s1_0.currency,
        s1_0.deleted_at,
        s1_0.email,
        s1_0.is_active,
        s1_0.name,
        s1_0.phone,
        s1_0.postal_code,
        s1_0.settings,
        s1_0.state,
        s1_0.tax_id,
        s1_0.timezone,
        s1_0.updated_at,
        s1_0.updated_by 
    from
        stores s1_0 
    where
        s1_0.id=?
2025-11-06 12:18:45 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 12:18:45 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.allocat.api.exception.GlobalExceptionHandler#handleAccessDeniedException(AccessDeniedException)
2025-11-06 12:18:45 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 12:18:45 [http-nio-8080-exec-8] WARN  c.a.a.e.GlobalExceptionHandler - Access denied: Access Denied
2025-11-06 12:18:45 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 12:18:45 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=false, message=null, data=null, error=You don't have permission to access this r (truncated)...]
2025-11-06 12:18:45 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-11-06 12:18:45 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 403 FORBIDDEN
2025-11-06 12:18:45 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 12:25:07 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=47s526ms792Âµs800ns).
2025-11-06 12:55:07 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/stores
2025-11-06 12:55:07 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/inventory/current
2025-11-06 12:55:07 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 12:55:07 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 12:55:07 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 12:55:07 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 12:55:07 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 12:55:07 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 12:55:07 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: VIEWER
2025-11-06 12:55:07 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: VIEWER
2025-11-06 12:55:07 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: VIEWER
2025-11-06 12:55:07 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/stores?active=true", parameters={masked}
2025-11-06 12:55:07 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: VIEWER
2025-11-06 12:55:07 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.StoreController#getAllStores(Boolean)
2025-11-06 12:55:07 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/current", parameters={}
2025-11-06 12:55:07 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.allocat.api.exception.GlobalExceptionHandler#handleAccessDeniedException(AccessDeniedException)
2025-11-06 12:55:07 [http-nio-8080-exec-5] WARN  c.a.a.e.GlobalExceptionHandler - Access denied: Access Denied
2025-11-06 12:55:07 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.InventoryController#getCurrentInventory(int, int, String, String)
2025-11-06 12:55:07 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 12:55:07 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=false, message=null, data=null, error=You don't have permission to access this r (truncated)...]
2025-11-06 12:55:07 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-11-06 12:55:07 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 403 FORBIDDEN
2025-11-06 12:55:07 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        i 
    FROM
        Inventory i 
    WHERE
        i.availableQuantity > 0 
    order by
        i.id asc */ select
            i1_0.id,
            i1_0.available_quantity,
            i1_0.batch_number,
            i1_0.bin,
            i1_0.created_at,
            i1_0.created_by,
            i1_0.current_quantity,
            i1_0.deleted_at,
            i1_0.expiry_date,
            i1_0.last_updated,
            i1_0.last_updated_by,
            i1_0.location,
            i1_0.notes,
            i1_0.product_id,
            i1_0.purchase_order_number,
            i1_0.received_stock_id,
            i1_0.reserved_quantity,
            i1_0.shelf,
            i1_0.store_id,
            i1_0.supplier_name,
            i1_0.total_value,
            i1_0.unit_cost,
            i1_0.updated_at,
            i1_0.updated_by,
            i1_0.warehouse 
        from
            inventory i1_0 
        where
            i1_0.available_quantity>0 
        order by
            i1_0.id 
        fetch
            first ? rows only
2025-11-06 12:55:07 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 12:55:07 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Current inventory retrieved successfully. Page 1 of 1, data=Page 1 (truncated)...]
2025-11-06 12:55:07 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 12:55:07 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        s1_0.id,
        s1_0.access_code,
        s1_0.address,
        s1_0.city,
        s1_0.code,
        s1_0.country,
        s1_0.created_at,
        s1_0.created_by,
        s1_0.currency,
        s1_0.deleted_at,
        s1_0.email,
        s1_0.is_active,
        s1_0.name,
        s1_0.phone,
        s1_0.postal_code,
        s1_0.settings,
        s1_0.state,
        s1_0.tax_id,
        s1_0.timezone,
        s1_0.updated_at,
        s1_0.updated_by 
    from
        stores s1_0 
    where
        s1_0.id=?
2025-11-06 12:55:07 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 12:55:07 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 12:55:07 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 12:55:07 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=29m59s656ms439Âµs100ns).
2025-11-06 13:04:03 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/stores
2025-11-06 13:04:03 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 13:04:03 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 13:04:03 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/inventory/current
2025-11-06 13:04:03 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 13:04:03 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 13:04:03 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 13:04:03 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: VIEWER
2025-11-06 13:04:03 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: VIEWER
2025-11-06 13:04:03 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 13:04:03 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/stores?active=true", parameters={masked}
2025-11-06 13:04:03 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.StoreController#getAllStores(Boolean)
2025-11-06 13:04:03 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: VIEWER
2025-11-06 13:04:03 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: VIEWER
2025-11-06 13:04:03 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.allocat.api.exception.GlobalExceptionHandler#handleAccessDeniedException(AccessDeniedException)
2025-11-06 13:04:03 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/current", parameters={}
2025-11-06 13:04:03 [http-nio-8080-exec-7] WARN  c.a.a.e.GlobalExceptionHandler - Access denied: Access Denied
2025-11-06 13:04:03 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.InventoryController#getCurrentInventory(int, int, String, String)
2025-11-06 13:04:03 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 13:04:03 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=false, message=null, data=null, error=You don't have permission to access this r (truncated)...]
2025-11-06 13:04:03 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        i 
    FROM
        Inventory i 
    WHERE
        i.availableQuantity > 0 
    order by
        i.id asc */ select
            i1_0.id,
            i1_0.available_quantity,
            i1_0.batch_number,
            i1_0.bin,
            i1_0.created_at,
            i1_0.created_by,
            i1_0.current_quantity,
            i1_0.deleted_at,
            i1_0.expiry_date,
            i1_0.last_updated,
            i1_0.last_updated_by,
            i1_0.location,
            i1_0.notes,
            i1_0.product_id,
            i1_0.purchase_order_number,
            i1_0.received_stock_id,
            i1_0.reserved_quantity,
            i1_0.shelf,
            i1_0.store_id,
            i1_0.supplier_name,
            i1_0.total_value,
            i1_0.unit_cost,
            i1_0.updated_at,
            i1_0.updated_by,
            i1_0.warehouse 
        from
            inventory i1_0 
        where
            i1_0.available_quantity>0 
        order by
            i1_0.id 
        fetch
            first ? rows only
2025-11-06 13:04:03 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-11-06 13:04:03 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 403 FORBIDDEN
2025-11-06 13:04:03 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 13:04:03 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Current inventory retrieved successfully. Page 1 of 1, data=Page 1 (truncated)...]
2025-11-06 13:04:03 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 13:04:03 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        s1_0.id,
        s1_0.access_code,
        s1_0.address,
        s1_0.city,
        s1_0.code,
        s1_0.country,
        s1_0.created_at,
        s1_0.created_by,
        s1_0.currency,
        s1_0.deleted_at,
        s1_0.email,
        s1_0.is_active,
        s1_0.name,
        s1_0.phone,
        s1_0.postal_code,
        s1_0.settings,
        s1_0.state,
        s1_0.tax_id,
        s1_0.timezone,
        s1_0.updated_at,
        s1_0.updated_by 
    from
        stores s1_0 
    where
        s1_0.id=?
2025-11-06 13:04:03 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 13:04:03 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 13:04:03 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 13:04:31 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=4m23s698ms964Âµs500ns).
2025-11-06 13:07:58 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: POST /api/auth/refresh
2025-11-06 13:07:58 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 13:07:58 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 13:07:58 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 13:07:58 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: null
2025-11-06 13:07:58 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: null
2025-11-06 13:07:58 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/refresh", parameters={}
2025-11-06 13:07:58 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.AuthController#refreshToken(String)
2025-11-06 13:07:58 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 13:07:58 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Token refreshed successfully, data=AuthResponse(accessToken=eyJhbG (truncated)...]
2025-11-06 13:07:58 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 13:10:02 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: POST /api/auth/logout
2025-11-06 13:10:02 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 13:10:02 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 13:10:02 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 13:10:02 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: VIEWER
2025-11-06 13:10:02 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: VIEWER
2025-11-06 13:10:02 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/logout", parameters={}
2025-11-06 13:10:02 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.AuthController#logout(String)
2025-11-06 13:10:02 [http-nio-8080-exec-5] INFO  c.a.api.controller.AuthController - User logged out: suryajaya
2025-11-06 13:10:02 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 13:10:02 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Logout successful, data=null, error=null)]
2025-11-06 13:10:02 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 13:10:22 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: POST /api/auth/login
2025-11-06 13:10:22 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: null
2025-11-06 13:10:22 [http-nio-8080-exec-9] WARN  c.a.s.jwt.JwtAuthenticationFilter - No valid Authorization header found for: POST /api/auth/login
2025-11-06 13:10:22 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-11-06 13:10:22 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.AuthController#login(LoginRequest)
2025-11-06 13:10:22 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=suryajaya, password=goodboy)]
2025-11-06 13:10:22 [http-nio-8080-exec-9] INFO  c.allocat.auth.service.AuthService - Authenticating user: suryajaya
2025-11-06 13:10:22 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.is_active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login_at,
        u1_0.last_name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.role_id,
        u1_0.store_id,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-11-06 13:10:22 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.created_by,
        r1_0.deleted_at,
        r1_0.description,
        r1_0.name,
        r1_0.permissions,
        r1_0.updated_at,
        r1_0.updated_by 
    from
        roles r1_0 
    where
        r1_0.id=?
2025-11-06 13:10:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* update
        for com.allocat.auth.entity.User */update users 
    set
        is_active=?,
        deleted_at=?,
        email=?,
        first_name=?,
        last_login_at=?,
        last_name=?,
        password_hash=?,
        phone=?,
        role_id=?,
        store_id=?,
        updated_at=?,
        updated_by=?,
        username=? 
    where
        id=?
2025-11-06 13:10:23 [http-nio-8080-exec-9] INFO  c.allocat.auth.service.AuthService - User authenticated successfully: suryajaya
2025-11-06 13:10:23 [http-nio-8080-exec-9] INFO  c.a.api.controller.AuthController - Login successful for user: suryajaya
2025-11-06 13:10:23 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 13:10:23 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Login successful, data=AuthResponse(accessToken=eyJhbGciOiJIUzUxMi (truncated)...]
2025-11-06 13:10:23 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 13:10:23 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/auth/me
2025-11-06 13:10:23 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 13:10:23 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 13:10:23 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 13:10:23 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 13:10:23 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 13:10:23 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-11-06 13:10:23 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.AuthController#getCurrentUser(String)
2025-11-06 13:10:23 [http-nio-8080-exec-7] INFO  c.allocat.auth.service.AuthService - Fetching user by username: suryajaya
2025-11-06 13:10:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.is_active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login_at,
        u1_0.last_name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.role_id,
        u1_0.store_id,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-11-06 13:10:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.created_by,
        r1_0.deleted_at,
        r1_0.description,
        r1_0.name,
        r1_0.permissions,
        r1_0.updated_at,
        r1_0.updated_by 
    from
        roles r1_0 
    where
        r1_0.id=?
2025-11-06 13:10:23 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 13:10:23 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=User details retrieved successfully, data=AuthResponse(accessToken (truncated)...]
2025-11-06 13:10:23 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 13:10:23 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/stores
2025-11-06 13:10:23 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 13:10:23 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 13:10:23 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 13:10:23 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 13:10:23 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 13:10:23 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/stores?active=true", parameters={masked}
2025-11-06 13:10:23 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.StoreController#getAllStores(Boolean)
2025-11-06 13:10:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        s 
    FROM
        Store s 
    WHERE
        s.isActive = true 
    ORDER BY
        s.name ASC */ select
            s1_0.id,
            s1_0.access_code,
            s1_0.address,
            s1_0.city,
            s1_0.code,
            s1_0.country,
            s1_0.created_at,
            s1_0.created_by,
            s1_0.currency,
            s1_0.deleted_at,
            s1_0.email,
            s1_0.is_active,
            s1_0.name,
            s1_0.phone,
            s1_0.postal_code,
            s1_0.settings,
            s1_0.state,
            s1_0.tax_id,
            s1_0.timezone,
            s1_0.updated_at,
            s1_0.updated_by 
        from
            stores s1_0 
        where
            s1_0.is_active=true 
        order by
            s1_0.name
2025-11-06 13:10:23 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 13:10:23 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Stores retrieved successfully, data=[StoreResponse(id=1, code=MAIN (truncated)...]
2025-11-06 13:10:23 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 13:10:37 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/products
2025-11-06 13:10:37 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 13:10:37 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/products/categories
2025-11-06 13:10:37 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 13:10:37 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 13:10:37 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 13:10:37 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 13:10:37 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 13:10:37 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 13:10:37 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 13:10:37 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 13:10:37 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 13:10:37 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/categories", parameters={}
2025-11-06 13:10:37 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products?page=0&size=25&sortBy=name&sortDirection=asc", parameters={masked}
2025-11-06 13:10:37 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.ProductController#getAllProducts(int, int, String, String, String, String, String, Boolean)
2025-11-06 13:10:37 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.ProductController#getCategories()
2025-11-06 13:10:37 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT p.category 
    FROM
        Product p 
    WHERE
        p.category IS NOT NULL 
    ORDER BY
        p.category */ select
            distinct p1_0.category 
        from
            products p1_0 
        where
            p1_0.category is not null 
        order by
            p1_0.category
2025-11-06 13:10:37 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    order by
        p1_0.name 
    offset
        ? rows 
    fetch
        first ? rows only
2025-11-06 13:10:37 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 13:10:37 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 13:10:37 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Categories retrieved successfully, data=[], error=null)]
2025-11-06 13:10:37 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Products retrieved successfully. Page 1 of 1, data=Page 1 of 1 con (truncated)...]
2025-11-06 13:10:37 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 13:10:37 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 13:10:44 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/inventory/current
2025-11-06 13:10:44 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 13:10:44 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 13:10:44 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 13:10:44 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 13:10:44 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 13:10:44 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/current", parameters={}
2025-11-06 13:10:44 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.InventoryController#getCurrentInventory(int, int, String, String)
2025-11-06 13:10:44 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        i 
    FROM
        Inventory i 
    WHERE
        i.availableQuantity > 0 
    order by
        i.id asc */ select
            i1_0.id,
            i1_0.available_quantity,
            i1_0.batch_number,
            i1_0.bin,
            i1_0.created_at,
            i1_0.created_by,
            i1_0.current_quantity,
            i1_0.deleted_at,
            i1_0.expiry_date,
            i1_0.last_updated,
            i1_0.last_updated_by,
            i1_0.location,
            i1_0.notes,
            i1_0.product_id,
            i1_0.purchase_order_number,
            i1_0.received_stock_id,
            i1_0.reserved_quantity,
            i1_0.shelf,
            i1_0.store_id,
            i1_0.supplier_name,
            i1_0.total_value,
            i1_0.unit_cost,
            i1_0.updated_at,
            i1_0.updated_by,
            i1_0.warehouse 
        from
            inventory i1_0 
        where
            i1_0.available_quantity>0 
        order by
            i1_0.id 
        fetch
            first ? rows only
2025-11-06 13:10:44 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 13:10:44 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Current inventory retrieved successfully. Page 1 of 1, data=Page 1 (truncated)...]
2025-11-06 13:10:44 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 13:10:44 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        s1_0.id,
        s1_0.access_code,
        s1_0.address,
        s1_0.city,
        s1_0.code,
        s1_0.country,
        s1_0.created_at,
        s1_0.created_by,
        s1_0.currency,
        s1_0.deleted_at,
        s1_0.email,
        s1_0.is_active,
        s1_0.name,
        s1_0.phone,
        s1_0.postal_code,
        s1_0.settings,
        s1_0.state,
        s1_0.tax_id,
        s1_0.timezone,
        s1_0.updated_at,
        s1_0.updated_by 
    from
        stores s1_0 
    where
        s1_0.id=?
2025-11-06 13:10:44 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 13:10:44 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 13:10:44 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 13:10:52 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/inventory/received-stock
2025-11-06 13:10:52 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 13:10:52 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 13:10:52 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 13:10:52 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 13:10:52 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 13:10:52 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/received-stock", parameters={}
2025-11-06 13:10:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.InventoryController#getAllReceivedStock()
2025-11-06 13:10:52 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        rs1_0.id,
        rs1_0.batch_number,
        rs1_0.created_at,
        rs1_0.created_by,
        rs1_0.csv_upload_id,
        rs1_0.damage_quantity,
        rs1_0.deleted_at,
        rs1_0.delivery_date,
        rs1_0.excess_quantity,
        rs1_0.expected_delivery_date,
        rs1_0.expected_quantity,
        rs1_0.notes,
        rs1_0.product_id,
        rs1_0.product_code,
        rs1_0.product_name,
        rs1_0.quality_issues,
        rs1_0.received_by,
        rs1_0.received_date,
        rs1_0.received_quantity,
        rs1_0.row_number,
        rs1_0.shortage_quantity,
        rs1_0.status,
        rs1_0.supplier_invoice_number,
        rs1_0.supplier_name,
        rs1_0.total_value,
        rs1_0.unit_price,
        rs1_0.updated_at,
        rs1_0.updated_by,
        rs1_0.verified_by,
        rs1_0.verified_date,
        rs1_0.verified_quantity 
    from
        received_stock rs1_0
2025-11-06 13:10:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 13:10:52 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 13:10:52 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 13:10:52 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 13:10:52 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 13:10:52 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 13:10:52 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 13:10:52 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 13:10:52 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 13:10:52 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 13:10:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=All received stock retrieved successfully, data=[ReceivedStock(id= (truncated)...]
2025-11-06 13:10:52 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 13:11:56 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: POST /api/inventory/received-stock/13/verify
2025-11-06 13:11:56 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 13:11:56 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 13:11:56 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 13:11:56 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 13:11:56 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 13:11:56 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/inventory/received-stock/13/verify", parameters={multipart}
2025-11-06 13:11:56 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.InventoryController#verifyReceivedStock(Long, Integer, String)
2025-11-06 13:11:56 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        rs1_0.id,
        rs1_0.batch_number,
        rs1_0.created_at,
        rs1_0.created_by,
        rs1_0.csv_upload_id,
        rs1_0.damage_quantity,
        rs1_0.deleted_at,
        rs1_0.delivery_date,
        rs1_0.excess_quantity,
        rs1_0.expected_delivery_date,
        rs1_0.expected_quantity,
        rs1_0.notes,
        rs1_0.product_id,
        rs1_0.product_code,
        rs1_0.product_name,
        rs1_0.quality_issues,
        rs1_0.received_by,
        rs1_0.received_date,
        rs1_0.received_quantity,
        rs1_0.row_number,
        rs1_0.shortage_quantity,
        rs1_0.status,
        rs1_0.supplier_invoice_number,
        rs1_0.supplier_name,
        rs1_0.total_value,
        rs1_0.unit_price,
        rs1_0.updated_at,
        rs1_0.updated_by,
        rs1_0.verified_by,
        rs1_0.verified_date,
        rs1_0.verified_quantity 
    from
        received_stock rs1_0 
    where
        rs1_0.id=?
2025-11-06 13:11:56 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        i1_0.id,
        i1_0.available_quantity,
        i1_0.batch_number,
        i1_0.bin,
        i1_0.created_at,
        i1_0.created_by,
        i1_0.current_quantity,
        i1_0.deleted_at,
        i1_0.expiry_date,
        i1_0.last_updated,
        i1_0.last_updated_by,
        i1_0.location,
        i1_0.notes,
        i1_0.product_id,
        i1_0.purchase_order_number,
        i1_0.received_stock_id,
        i1_0.reserved_quantity,
        i1_0.shelf,
        i1_0.store_id,
        i1_0.supplier_name,
        i1_0.total_value,
        i1_0.unit_cost,
        i1_0.updated_at,
        i1_0.updated_by,
        i1_0.warehouse 
    from
        inventory i1_0 
    where
        i1_0.product_id=?
2025-11-06 13:11:56 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        s1_0.id,
        s1_0.access_code,
        s1_0.address,
        s1_0.city,
        s1_0.code,
        s1_0.country,
        s1_0.created_at,
        s1_0.created_by,
        s1_0.currency,
        s1_0.deleted_at,
        s1_0.email,
        s1_0.is_active,
        s1_0.name,
        s1_0.phone,
        s1_0.postal_code,
        s1_0.settings,
        s1_0.state,
        s1_0.tax_id,
        s1_0.timezone,
        s1_0.updated_at,
        s1_0.updated_by 
    from
        stores s1_0 
    where
        s1_0.code=?
2025-11-06 13:11:56 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* insert for
        com.allocat.inventory.entity.Inventory */insert 
    into
        inventory (available_quantity, batch_number, bin, created_at, created_by, current_quantity, deleted_at, expiry_date, last_updated, last_updated_by, location, notes, product_id, purchase_order_number, received_stock_id, reserved_quantity, shelf, store_id, supplier_name, total_value, unit_cost, updated_at, updated_by, warehouse) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-11-06 13:11:56 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* update
        for com.allocat.inventory.entity.ReceivedStock */update received_stock 
    set
        batch_number=?,
        csv_upload_id=?,
        damage_quantity=?,
        deleted_at=?,
        delivery_date=?,
        excess_quantity=?,
        expected_delivery_date=?,
        expected_quantity=?,
        notes=?,
        product_id=?,
        product_code=?,
        product_name=?,
        quality_issues=?,
        received_by=?,
        received_date=?,
        received_quantity=?,
        row_number=?,
        shortage_quantity=?,
        status=?,
        supplier_invoice_number=?,
        supplier_name=?,
        total_value=?,
        unit_price=?,
        updated_at=?,
        updated_by=?,
        verified_by=?,
        verified_date=?,
        verified_quantity=? 
    where
        id=?
2025-11-06 13:11:56 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 13:11:56 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 13:11:56 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Stock verified and added to inventory successfully, data=Inventory (truncated)...]
2025-11-06 13:11:56 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 13:11:56 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/inventory/current
2025-11-06 13:11:56 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 13:11:56 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 13:11:56 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 13:11:56 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 13:11:56 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 13:11:56 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/current", parameters={}
2025-11-06 13:11:56 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.InventoryController#getCurrentInventory(int, int, String, String)
2025-11-06 13:11:56 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        i 
    FROM
        Inventory i 
    WHERE
        i.availableQuantity > 0 
    order by
        i.id asc */ select
            i1_0.id,
            i1_0.available_quantity,
            i1_0.batch_number,
            i1_0.bin,
            i1_0.created_at,
            i1_0.created_by,
            i1_0.current_quantity,
            i1_0.deleted_at,
            i1_0.expiry_date,
            i1_0.last_updated,
            i1_0.last_updated_by,
            i1_0.location,
            i1_0.notes,
            i1_0.product_id,
            i1_0.purchase_order_number,
            i1_0.received_stock_id,
            i1_0.reserved_quantity,
            i1_0.shelf,
            i1_0.store_id,
            i1_0.supplier_name,
            i1_0.total_value,
            i1_0.unit_cost,
            i1_0.updated_at,
            i1_0.updated_by,
            i1_0.warehouse 
        from
            inventory i1_0 
        where
            i1_0.available_quantity>0 
        order by
            i1_0.id 
        fetch
            first ? rows only
2025-11-06 13:11:56 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 13:11:56 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Current inventory retrieved successfully. Page 1 of 1, data=Page 1 (truncated)...]
2025-11-06 13:11:56 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 13:11:56 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        s1_0.id,
        s1_0.access_code,
        s1_0.address,
        s1_0.city,
        s1_0.code,
        s1_0.country,
        s1_0.created_at,
        s1_0.created_by,
        s1_0.currency,
        s1_0.deleted_at,
        s1_0.email,
        s1_0.is_active,
        s1_0.name,
        s1_0.phone,
        s1_0.postal_code,
        s1_0.settings,
        s1_0.state,
        s1_0.tax_id,
        s1_0.timezone,
        s1_0.updated_at,
        s1_0.updated_by 
    from
        stores s1_0 
    where
        s1_0.id=?
2025-11-06 13:11:56 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 13:11:56 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 13:11:56 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 13:11:56 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 13:12:07 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/users
2025-11-06 13:12:07 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 13:12:07 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 13:12:07 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 13:12:07 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 13:12:07 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 13:12:07 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-11-06 13:12:07 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.UserController#getAllUsers()
2025-11-06 13:12:07 [http-nio-8080-exec-8] INFO  c.allocat.auth.service.UserService - Fetching user by username: suryajaya
2025-11-06 13:12:07 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.is_active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login_at,
        u1_0.last_name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.role_id,
        u1_0.store_id,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-11-06 13:12:07 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.created_by,
        r1_0.deleted_at,
        r1_0.description,
        r1_0.name,
        r1_0.permissions,
        r1_0.updated_at,
        r1_0.updated_by 
    from
        roles r1_0 
    where
        r1_0.id=?
2025-11-06 13:12:07 [http-nio-8080-exec-8] INFO  c.allocat.auth.service.UserService - Fetching all users
2025-11-06 13:12:07 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.is_active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login_at,
        u1_0.last_name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.role_id,
        u1_0.store_id,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.username 
    from
        users u1_0
2025-11-06 13:12:07 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.created_by,
        r1_0.deleted_at,
        r1_0.description,
        r1_0.name,
        r1_0.permissions,
        r1_0.updated_at,
        r1_0.updated_by 
    from
        roles r1_0 
    where
        r1_0.id=?
2025-11-06 13:12:07 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        s1_0.id,
        s1_0.access_code,
        s1_0.address,
        s1_0.city,
        s1_0.code,
        s1_0.country,
        s1_0.created_at,
        s1_0.created_by,
        s1_0.currency,
        s1_0.deleted_at,
        s1_0.email,
        s1_0.is_active,
        s1_0.name,
        s1_0.phone,
        s1_0.postal_code,
        s1_0.settings,
        s1_0.state,
        s1_0.tax_id,
        s1_0.timezone,
        s1_0.updated_at,
        s1_0.updated_by 
    from
        stores s1_0 
    where
        s1_0.id=?
2025-11-06 13:12:07 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 13:12:07 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Users retrieved successfully, data=[UserResponse(id=2, username=or (truncated)...]
2025-11-06 13:12:07 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 13:12:26 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: POST /api/chat
2025-11-06 13:12:26 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 13:12:26 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 13:12:26 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 13:12:26 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 13:12:26 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 13:12:26 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/chat", parameters={}
2025-11-06 13:12:26 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.ChatController#chat(ChatRequest)
2025-11-06 13:12:26 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ChatController.ChatRequest(message=hello inven, conversationId=default)]
2025-11-06 13:12:26 [http-nio-8080-exec-1] INFO  c.a.api.controller.ChatController - Processing chat message for conversation: default
2025-11-06 13:12:26 [http-nio-8080-exec-1] INFO  c.a.ai.service.InvenGaduAgentService - Creating new InvenGadu agent for conversation: default
2025-11-06 13:12:26 [http-nio-8080-exec-1] INFO  c.a.ai.service.InvenGaduAgentService - Creating Ollama chat model: llama3.2:1b at http://localhost:11434
2025-11-06 13:12:26 [http-nio-8080-exec-1] INFO  c.a.ai.service.InvenGaduAgentService - Building AI service (llama3 - tools will be called manually)...
2025-11-06 13:12:26 [http-nio-8080-exec-1] INFO  c.a.ai.service.InvenGaduAgentService - AI agent created successfully
2025-11-06 13:12:26 [http-nio-8080-exec-1] INFO  c.a.api.controller.ChatController - Agent retrieved, sending message to LLM
2025-11-06 13:12:37 [http-nio-8080-exec-1] INFO  c.a.api.controller.ChatController - Chat completed in 10372ms for conversation: default
2025-11-06 13:12:37 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 13:12:37 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Chat response generated successfully, data=ChatController.ChatResp (truncated)...]
2025-11-06 13:12:37 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 13:12:46 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/inventory/current
2025-11-06 13:12:46 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 13:12:46 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 13:12:46 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 13:12:46 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 13:12:46 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 13:12:46 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/current", parameters={}
2025-11-06 13:12:46 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.InventoryController#getCurrentInventory(int, int, String, String)
2025-11-06 13:12:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        i 
    FROM
        Inventory i 
    WHERE
        i.availableQuantity > 0 
    order by
        i.id asc */ select
            i1_0.id,
            i1_0.available_quantity,
            i1_0.batch_number,
            i1_0.bin,
            i1_0.created_at,
            i1_0.created_by,
            i1_0.current_quantity,
            i1_0.deleted_at,
            i1_0.expiry_date,
            i1_0.last_updated,
            i1_0.last_updated_by,
            i1_0.location,
            i1_0.notes,
            i1_0.product_id,
            i1_0.purchase_order_number,
            i1_0.received_stock_id,
            i1_0.reserved_quantity,
            i1_0.shelf,
            i1_0.store_id,
            i1_0.supplier_name,
            i1_0.total_value,
            i1_0.unit_cost,
            i1_0.updated_at,
            i1_0.updated_by,
            i1_0.warehouse 
        from
            inventory i1_0 
        where
            i1_0.available_quantity>0 
        order by
            i1_0.id 
        fetch
            first ? rows only
2025-11-06 13:12:46 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 13:12:46 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Current inventory retrieved successfully. Page 1 of 1, data=Page 1 (truncated)...]
2025-11-06 13:12:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 13:12:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        s1_0.id,
        s1_0.access_code,
        s1_0.address,
        s1_0.city,
        s1_0.code,
        s1_0.country,
        s1_0.created_at,
        s1_0.created_by,
        s1_0.currency,
        s1_0.deleted_at,
        s1_0.email,
        s1_0.is_active,
        s1_0.name,
        s1_0.phone,
        s1_0.postal_code,
        s1_0.settings,
        s1_0.state,
        s1_0.tax_id,
        s1_0.timezone,
        s1_0.updated_at,
        s1_0.updated_by 
    from
        stores s1_0 
    where
        s1_0.id=?
2025-11-06 13:12:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 13:12:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 13:12:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 13:12:46 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 13:12:48 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/products/categories
2025-11-06 13:12:48 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 13:12:48 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/products
2025-11-06 13:12:48 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 13:12:48 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 13:12:48 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 13:12:48 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 13:12:48 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 13:12:48 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 13:12:48 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 13:12:48 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 13:12:48 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 13:12:48 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/categories", parameters={}
2025-11-06 13:12:48 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products?page=0&size=25&sortBy=name&sortDirection=asc", parameters={masked}
2025-11-06 13:12:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.ProductController#getCategories()
2025-11-06 13:12:48 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.ProductController#getAllProducts(int, int, String, String, String, String, String, Boolean)
2025-11-06 13:12:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT p.category 
    FROM
        Product p 
    WHERE
        p.category IS NOT NULL 
    ORDER BY
        p.category */ select
            distinct p1_0.category 
        from
            products p1_0 
        where
            p1_0.category is not null 
        order by
            p1_0.category
2025-11-06 13:12:48 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    order by
        p1_0.name 
    offset
        ? rows 
    fetch
        first ? rows only
2025-11-06 13:12:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 13:12:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Categories retrieved successfully, data=[], error=null)]
2025-11-06 13:12:48 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 13:12:48 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 13:12:48 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Products retrieved successfully. Page 1 of 1, data=Page 1 of 1 con (truncated)...]
2025-11-06 13:12:48 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 13:12:57 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/products
2025-11-06 13:12:57 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 13:12:57 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 13:12:57 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 13:12:57 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 13:12:57 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 13:12:57 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products?page=0&size=25&search=prod&sortBy=name&sortDirection=asc", parameters={masked}
2025-11-06 13:12:57 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.ProductController#getAllProducts(int, int, String, String, String, String, String, Boolean)
2025-11-06 13:12:57 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        upper(p1_0.name) like upper(?) escape '\' 
    order by
        p1_0.name 
    fetch
        first ? rows only
2025-11-06 13:12:57 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 13:12:57 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Products retrieved successfully. Page 1 of 1, data=Page 1 of 1 con (truncated)...]
2025-11-06 13:12:57 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 13:12:58 [http-nio-8080-exec-2] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/products
2025-11-06 13:12:58 [http-nio-8080-exec-2] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 13:12:58 [http-nio-8080-exec-2] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 13:12:58 [http-nio-8080-exec-2] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 13:12:58 [http-nio-8080-exec-2] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 13:12:58 [http-nio-8080-exec-2] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 13:12:58 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products?page=0&size=25&search=prod005&sortBy=name&sortDirection=asc", parameters={masked}
2025-11-06 13:12:58 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.ProductController#getAllProducts(int, int, String, String, String, String, String, Boolean)
2025-11-06 13:12:58 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        upper(p1_0.name) like upper(?) escape '\' 
    order by
        p1_0.name 
    fetch
        first ? rows only
2025-11-06 13:12:58 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 13:12:58 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Products retrieved successfully. Page 1 of 0, data=Page 1 of 0 con (truncated)...]
2025-11-06 13:12:58 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 13:13:01 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/products
2025-11-06 13:13:01 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 13:13:01 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 13:13:01 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 13:13:01 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 13:13:01 [http-nio-8080-exec-6] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 13:13:01 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products?page=0&size=25&search=prod00&sortBy=name&sortDirection=asc", parameters={masked}
2025-11-06 13:13:01 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.ProductController#getAllProducts(int, int, String, String, String, String, String, Boolean)
2025-11-06 13:13:01 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        upper(p1_0.name) like upper(?) escape '\' 
    order by
        p1_0.name 
    fetch
        first ? rows only
2025-11-06 13:13:01 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 13:13:01 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Products retrieved successfully. Page 1 of 0, data=Page 1 of 0 con (truncated)...]
2025-11-06 13:13:01 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 13:13:01 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/products
2025-11-06 13:13:01 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 13:13:01 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 13:13:01 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 13:13:01 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 13:13:01 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 13:13:01 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products?page=0&size=25&search=prod&sortBy=name&sortDirection=asc", parameters={masked}
2025-11-06 13:13:01 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.ProductController#getAllProducts(int, int, String, String, String, String, String, Boolean)
2025-11-06 13:13:01 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        upper(p1_0.name) like upper(?) escape '\' 
    order by
        p1_0.name 
    fetch
        first ? rows only
2025-11-06 13:13:01 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 13:13:01 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Products retrieved successfully. Page 1 of 1, data=Page 1 of 1 con (truncated)...]
2025-11-06 13:13:01 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 13:13:03 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/products
2025-11-06 13:13:03 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 13:13:03 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 13:13:03 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 13:13:03 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 13:13:03 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 13:13:03 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products?page=0&size=25&sortBy=name&sortDirection=asc", parameters={masked}
2025-11-06 13:13:03 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.ProductController#getAllProducts(int, int, String, String, String, String, String, Boolean)
2025-11-06 13:13:03 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    order by
        p1_0.name 
    offset
        ? rows 
    fetch
        first ? rows only
2025-11-06 13:13:03 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 13:13:03 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Products retrieved successfully. Page 1 of 1, data=Page 1 of 1 con (truncated)...]
2025-11-06 13:13:03 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 13:13:10 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/products
2025-11-06 13:13:10 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 13:13:10 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 13:13:10 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 13:13:10 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 13:13:10 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 13:13:10 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products?page=0&size=25&search=PROD005&sortBy=name&sortDirection=asc", parameters={masked}
2025-11-06 13:13:10 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.ProductController#getAllProducts(int, int, String, String, String, String, String, Boolean)
2025-11-06 13:13:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        upper(p1_0.name) like upper(?) escape '\' 
    order by
        p1_0.name 
    fetch
        first ? rows only
2025-11-06 13:13:10 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 13:13:10 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Products retrieved successfully. Page 1 of 0, data=Page 1 of 0 con (truncated)...]
2025-11-06 13:13:10 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 13:13:14 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/products
2025-11-06 13:13:14 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 13:13:14 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 13:13:14 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 13:13:14 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 13:13:14 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 13:13:14 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products?page=0&size=25&sortBy=name&sortDirection=asc", parameters={masked}
2025-11-06 13:13:14 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.ProductController#getAllProducts(int, int, String, String, String, String, String, Boolean)
2025-11-06 13:13:14 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    order by
        p1_0.name 
    offset
        ? rows 
    fetch
        first ? rows only
2025-11-06 13:13:14 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 13:13:14 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Products retrieved successfully. Page 1 of 1, data=Page 1 of 1 con (truncated)...]
2025-11-06 13:13:14 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 13:13:17 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/products
2025-11-06 13:13:17 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 13:13:17 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 13:13:17 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 13:13:17 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 13:13:17 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 13:13:17 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products?page=0&size=25&search=note&sortBy=name&sortDirection=asc", parameters={masked}
2025-11-06 13:13:17 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.ProductController#getAllProducts(int, int, String, String, String, String, String, Boolean)
2025-11-06 13:13:17 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        upper(p1_0.name) like upper(?) escape '\' 
    order by
        p1_0.name 
    fetch
        first ? rows only
2025-11-06 13:13:17 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 13:13:17 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Products retrieved successfully. Page 1 of 1, data=Page 1 of 1 con (truncated)...]
2025-11-06 13:13:17 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 13:13:18 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/products
2025-11-06 13:13:18 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 13:13:18 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 13:13:18 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 13:13:18 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 13:13:18 [http-nio-8080-exec-8] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 13:13:18 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products?page=0&size=25&search=notebook&sortBy=name&sortDirection=asc", parameters={masked}
2025-11-06 13:13:18 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.ProductController#getAllProducts(int, int, String, String, String, String, String, Boolean)
2025-11-06 13:13:18 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        upper(p1_0.name) like upper(?) escape '\' 
    order by
        p1_0.name 
    fetch
        first ? rows only
2025-11-06 13:13:18 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 13:13:18 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Products retrieved successfully. Page 1 of 1, data=Page 1 of 1 con (truncated)...]
2025-11-06 13:13:18 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 13:14:17 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/inventory/current
2025-11-06 13:14:17 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 13:14:17 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 13:14:17 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 13:14:17 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 13:14:17 [http-nio-8080-exec-1] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 13:14:17 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/current", parameters={}
2025-11-06 13:14:17 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.InventoryController#getCurrentInventory(int, int, String, String)
2025-11-06 13:14:17 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        i 
    FROM
        Inventory i 
    WHERE
        i.availableQuantity > 0 
    order by
        i.id asc */ select
            i1_0.id,
            i1_0.available_quantity,
            i1_0.batch_number,
            i1_0.bin,
            i1_0.created_at,
            i1_0.created_by,
            i1_0.current_quantity,
            i1_0.deleted_at,
            i1_0.expiry_date,
            i1_0.last_updated,
            i1_0.last_updated_by,
            i1_0.location,
            i1_0.notes,
            i1_0.product_id,
            i1_0.purchase_order_number,
            i1_0.received_stock_id,
            i1_0.reserved_quantity,
            i1_0.shelf,
            i1_0.store_id,
            i1_0.supplier_name,
            i1_0.total_value,
            i1_0.unit_cost,
            i1_0.updated_at,
            i1_0.updated_by,
            i1_0.warehouse 
        from
            inventory i1_0 
        where
            i1_0.available_quantity>0 
        order by
            i1_0.id 
        fetch
            first ? rows only
2025-11-06 13:14:17 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 13:14:17 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Current inventory retrieved successfully. Page 1 of 1, data=Page 1 (truncated)...]
2025-11-06 13:14:17 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 13:14:17 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        s1_0.id,
        s1_0.access_code,
        s1_0.address,
        s1_0.city,
        s1_0.code,
        s1_0.country,
        s1_0.created_at,
        s1_0.created_by,
        s1_0.currency,
        s1_0.deleted_at,
        s1_0.email,
        s1_0.is_active,
        s1_0.name,
        s1_0.phone,
        s1_0.postal_code,
        s1_0.settings,
        s1_0.state,
        s1_0.tax_id,
        s1_0.timezone,
        s1_0.updated_at,
        s1_0.updated_by 
    from
        stores s1_0 
    where
        s1_0.id=?
2025-11-06 13:14:17 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 13:14:17 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 13:14:17 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    where
        p1_0.id=?
2025-11-06 13:14:17 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 13:14:19 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/products/categories
2025-11-06 13:14:19 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/products
2025-11-06 13:14:19 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 13:14:19 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 13:14:19 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 13:14:19 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 13:14:19 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 13:14:19 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 13:14:19 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 13:14:19 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 13:14:19 [http-nio-8080-exec-5] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 13:14:19 [http-nio-8080-exec-9] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 13:14:19 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/categories", parameters={}
2025-11-06 13:14:19 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products?page=0&size=25&sortBy=name&sortDirection=asc", parameters={masked}
2025-11-06 13:14:19 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.ProductController#getAllProducts(int, int, String, String, String, String, String, Boolean)
2025-11-06 13:14:19 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.ProductController#getCategories()
2025-11-06 13:14:19 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT p.category 
    FROM
        Product p 
    WHERE
        p.category IS NOT NULL 
    ORDER BY
        p.category */ select
            distinct p1_0.category 
        from
            products p1_0 
        where
            p1_0.category is not null 
        order by
            p1_0.category
2025-11-06 13:14:19 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    order by
        p1_0.name 
    offset
        ? rows 
    fetch
        first ? rows only
2025-11-06 13:14:19 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 13:14:19 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Categories retrieved successfully, data=[], error=null)]
2025-11-06 13:14:19 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 13:14:19 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 13:14:19 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Products retrieved successfully. Page 1 of 1, data=Page 1 of 1 con (truncated)...]
2025-11-06 13:14:19 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 13:14:28 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: POST /api/chat
2025-11-06 13:14:28 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 13:14:28 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 13:14:28 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 13:14:28 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 13:14:28 [http-nio-8080-exec-10] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 13:14:28 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/chat", parameters={}
2025-11-06 13:14:28 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.ChatController#chat(ChatRequest)
2025-11-06 13:14:28 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ChatController.ChatRequest(message=help me with PROD004?<EOL>Desk Lamp, conversationId=default)]
2025-11-06 13:14:28 [http-nio-8080-exec-10] INFO  c.a.api.controller.ChatController - Processing chat message for conversation: default
2025-11-06 13:14:28 [http-nio-8080-exec-10] INFO  c.a.api.controller.ChatController - Agent retrieved, sending message to LLM
2025-11-06 13:14:36 [http-nio-8080-exec-10] INFO  c.a.api.controller.ChatController - Chat completed in 7925ms for conversation: default
2025-11-06 13:14:36 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 13:14:36 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Chat response generated successfully, data=ChatController.ChatResp (truncated)...]
2025-11-06 13:14:36 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 13:15:00 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: POST /api/chat
2025-11-06 13:15:00 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 13:15:00 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 13:15:00 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 13:15:00 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 13:15:00 [http-nio-8080-exec-4] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 13:15:00 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/chat", parameters={}
2025-11-06 13:15:00 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.ChatController#chat(ChatRequest)
2025-11-06 13:15:00 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ChatController.ChatRequest(message=help me with PROD008?<EOL>Keyboard, conversationId=default)]
2025-11-06 13:15:00 [http-nio-8080-exec-4] INFO  c.a.api.controller.ChatController - Processing chat message for conversation: default
2025-11-06 13:15:00 [http-nio-8080-exec-4] INFO  c.a.api.controller.ChatController - Agent retrieved, sending message to LLM
2025-11-06 13:15:08 [http-nio-8080-exec-4] INFO  c.a.api.controller.ChatController - Chat completed in 8264ms for conversation: default
2025-11-06 13:15:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 13:15:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Chat response generated successfully, data=ChatController.ChatResp (truncated)...]
2025-11-06 13:15:08 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 13:15:56 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/products
2025-11-06 13:15:56 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 13:15:56 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 13:15:56 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 13:15:56 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 13:15:56 [http-nio-8080-exec-7] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 13:15:56 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products?page=0&size=25&sortBy=name&sortDirection=asc", parameters={masked}
2025-11-06 13:15:56 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.ProductController#getAllProducts(int, int, String, String, String, String, String, Boolean)
2025-11-06 13:15:56 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.barcode,
        p1_0.brand,
        p1_0.category,
        p1_0.color,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.deleted_at,
        p1_0.description,
        p1_0.dimensions,
        p1_0.is_active,
        p1_0.maximum_stock_level,
        p1_0.minimum_stock_level,
        p1_0.model,
        p1_0.name,
        p1_0.notes,
        p1_0.product_code,
        p1_0.size,
        p1_0.sku,
        p1_0.supplier_contact,
        p1_0.supplier_name,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.weight 
    from
        products p1_0 
    order by
        p1_0.name 
    offset
        ? rows 
    fetch
        first ? rows only
2025-11-06 13:15:56 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 13:15:56 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Products retrieved successfully. Page 1 of 1, data=Page 1 of 1 con (truncated)...]
2025-11-06 13:15:56 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 13:16:01 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/users
2025-11-06 13:16:01 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 13:16:01 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 13:16:01 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 13:16:01 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 13:16:01 [http-nio-8080-exec-3] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 13:16:01 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-11-06 13:16:01 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.UserController#getAllUsers()
2025-11-06 13:16:01 [http-nio-8080-exec-3] INFO  c.allocat.auth.service.UserService - Fetching user by username: suryajaya
2025-11-06 13:16:01 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.is_active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login_at,
        u1_0.last_name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.role_id,
        u1_0.store_id,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-11-06 13:16:01 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.created_by,
        r1_0.deleted_at,
        r1_0.description,
        r1_0.name,
        r1_0.permissions,
        r1_0.updated_at,
        r1_0.updated_by 
    from
        roles r1_0 
    where
        r1_0.id=?
2025-11-06 13:16:01 [http-nio-8080-exec-3] INFO  c.allocat.auth.service.UserService - Fetching all users
2025-11-06 13:16:01 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.is_active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login_at,
        u1_0.last_name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.role_id,
        u1_0.store_id,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.username 
    from
        users u1_0
2025-11-06 13:16:01 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.created_by,
        r1_0.deleted_at,
        r1_0.description,
        r1_0.name,
        r1_0.permissions,
        r1_0.updated_at,
        r1_0.updated_by 
    from
        roles r1_0 
    where
        r1_0.id=?
2025-11-06 13:16:01 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        s1_0.id,
        s1_0.access_code,
        s1_0.address,
        s1_0.city,
        s1_0.code,
        s1_0.country,
        s1_0.created_at,
        s1_0.created_by,
        s1_0.currency,
        s1_0.deleted_at,
        s1_0.email,
        s1_0.is_active,
        s1_0.name,
        s1_0.phone,
        s1_0.postal_code,
        s1_0.settings,
        s1_0.state,
        s1_0.tax_id,
        s1_0.timezone,
        s1_0.updated_at,
        s1_0.updated_by 
    from
        stores s1_0 
    where
        s1_0.id=?
2025-11-06 13:16:01 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 13:16:01 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Users retrieved successfully, data=[UserResponse(id=2, username=or (truncated)...]
2025-11-06 13:16:01 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-06 13:16:02 [http-nio-8080-exec-2] INFO  c.a.s.jwt.JwtAuthenticationFilter - Processing request: GET /api/users
2025-11-06 13:16:02 [http-nio-8080-exec-2] INFO  c.a.s.jwt.JwtAuthenticationFilter - Authorization header: Bearer ***
2025-11-06 13:16:02 [http-nio-8080-exec-2] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted JWT token (first 20 chars): eyJhbGciOiJIUzUxMiJ9...
2025-11-06 13:16:02 [http-nio-8080-exec-2] INFO  c.a.s.jwt.JwtAuthenticationFilter - Extracted username from token: suryajaya
2025-11-06 13:16:02 [http-nio-8080-exec-2] INFO  c.a.s.jwt.JwtAuthenticationFilter - Token validated successfully. User: suryajaya, Role: SUPER_ADMIN
2025-11-06 13:16:02 [http-nio-8080-exec-2] INFO  c.a.s.jwt.JwtAuthenticationFilter - Successfully authenticated user: suryajaya with role: SUPER_ADMIN
2025-11-06 13:16:02 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-11-06 13:16:02 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.allocat.api.controller.UserController#getAllUsers()
2025-11-06 13:16:02 [http-nio-8080-exec-2] INFO  c.allocat.auth.service.UserService - Fetching user by username: suryajaya
2025-11-06 13:16:02 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.is_active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login_at,
        u1_0.last_name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.role_id,
        u1_0.store_id,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-11-06 13:16:02 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.created_by,
        r1_0.deleted_at,
        r1_0.description,
        r1_0.name,
        r1_0.permissions,
        r1_0.updated_at,
        r1_0.updated_by 
    from
        roles r1_0 
    where
        r1_0.id=?
2025-11-06 13:16:02 [http-nio-8080-exec-2] INFO  c.allocat.auth.service.UserService - Fetching all users
2025-11-06 13:16:02 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.is_active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login_at,
        u1_0.last_name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.role_id,
        u1_0.store_id,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.username 
    from
        users u1_0
2025-11-06 13:16:02 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.created_by,
        r1_0.deleted_at,
        r1_0.description,
        r1_0.name,
        r1_0.permissions,
        r1_0.updated_at,
        r1_0.updated_by 
    from
        roles r1_0 
    where
        r1_0.id=?
2025-11-06 13:16:02 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        s1_0.id,
        s1_0.access_code,
        s1_0.address,
        s1_0.city,
        s1_0.code,
        s1_0.country,
        s1_0.created_at,
        s1_0.created_by,
        s1_0.currency,
        s1_0.deleted_at,
        s1_0.email,
        s1_0.is_active,
        s1_0.name,
        s1_0.phone,
        s1_0.postal_code,
        s1_0.settings,
        s1_0.state,
        s1_0.tax_id,
        s1_0.timezone,
        s1_0.updated_at,
        s1_0.updated_by 
    from
        stores s1_0 
    where
        s1_0.id=?
2025-11-06 13:16:02 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-06 13:16:02 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Users retrieved successfully, data=[UserResponse(id=2, username=or (truncated)...]
2025-11-06 13:16:02 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
